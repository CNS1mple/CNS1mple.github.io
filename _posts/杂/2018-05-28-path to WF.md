---    
layout: post    
#标题配置    
title: "楼教主的ACM历程(转载)"    
#时间配置    
date:   2018-05-28 11:10:01 +0800    
#大类配置    
categories: 杂    
#小类配置    
tag: 杂    
---    
    
* content    
{:toc}    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作个    
回顾。昨天是GCJ2006 的回忆，今天时间上更早一些吧，我现在还清晰记得3 年    
前，我刚刚参加ACM 时参加北京赛区2005 和杭州赛区2005 的情况。    
2005 年ACM-ICPC——酸甜苦辣    
我进入清华大学开始本科学习的时间是2004 年8 月，在进入清华大学的第一    
年里，由于基础课学习比较紧张，再加上计算机系不允许大一学生自带电脑，我没    
有参加2004 年的ACM 比赛。不过在大一一年中没有停止这方面的练习，对ACM    
还是热情高涨。    
大概在2005 年7 月底，与同班同学shell（贝小辉）和superzn（张宁）一起    
决定组队参加ACM 比赛。对于队名没有太多的想法，就随便取了一个字典序靠前    
一点的bomber。随后进行的几场训练中，我的编程状态一直保持得很好，训练比    
赛的主要方式都是：我主写程序，shell 和superzn 负责翻译题目，思考算法和测试。    
这种组队模式一直沿用到我们后面的所有比赛中。    
2005 年底，我们报名参加了2005 年的北京赛区和杭州赛区的比赛。顺利通过    
了预赛进入了现场决赛。记得当时北京赛区预赛的时候，我和superzn 一起在参加    
百度之星程序设计大赛，shell 依靠一人之力过了6 题，最后以第二名的资格参加    
北京赛区现场比赛。    
北京赛区：    
2005 年的北京赛区地点设在隔壁的北京大学，由于交通非常方便，我们没有    
和大部分选手住在一起，不过也没有参加Java-Challenge 和晚上的表演。    
练习赛之前，说到比赛位置抽签，本身意义不是很大，可是邬老师神奇的RP    
把两只清华的队伍抽在一起，结果练习赛进行了一半，另一只清华的队伍THU1    
（队员是：吴景岳，栗师和金凯，好像后来队名改成了DreamCatcher，不是很确    
定）被要求换到一个比较远的地方，理由是有些学校觉得这样不合理。后来很多赛    
区也出现过队伍座位在一起的情况，邬老师的RP 果然不是盖的。    
记得练习赛时和复旦的LemonTree（盛城）一起在场地里闲逛，结果果然不到    
10 分钟就被要求回座位了。还有当时比赛场地是一个体育馆，有些队伍把气球放    
飞之后气球就飘在天花板下了，总裁判李文新老师还威胁我们说，如果明天正式比    
赛把气球放飞，就不算通过相应的题目，除非有办法把气球取下来。    
然后就是比赛的过程了，下面有底纹的文字是我找到的当时留下的比赛总结：    
E：快速排序。5 分钟1Y。    
我想5 分钟的时间可以争取这几年ACM 国内赛区的最快出题记录了吧。    
G：二分答案+最小生成树。25 分钟1Y。    
这题就是经典的最优比例生成树问题，我们一致认为这题比较简单。不过后来    
被李文新老师批评了，说法是误导其他的队伍。不过说到最优比例生成树问题，    
TCO2006 的时候fwj 和tomek 竟然都没有见过这道题目，这题可是源于POI 呀。我    
想我们认为这道题目简单的主要原因是我们都在冬令营上见过这到题目，如果第一    
次看见，想出算法可能确实需要一些时间。在这里向被我们影响的队伍的道歉，最    
终G 提交了200 多次，但是只有8 个队伍AC。    
C：二分图最大匹配。42 分钟1Y    
题目要求计算一张图的最小覆盖集，可能唯一的tricky 是发现图是二分图。    
D：遇到了一定的困难，发现A 很简单，于是先放一下    
D 是一道比较综合的题目，设计一些简单的计算几何和字符串处理的知识。    
A：简单的几何问题，出现了一个低级错误，提交了3 次均为WA。    
A 是北京赛区最简单的题目，我的程序里犯了一个很低级的错误，可能也是经    
验不足造成的吧。    
D：重新写，但是没有考虑一种情况，WA 了1 次。    
87 分钟，复旦的Abuacus 过了4 题占据了Rank1。由于队伍模式的原因，我们    
在还有很多简单题目的情况下卡住了长达30 分钟。    
A：shell 突然发现了A 程序中的低级错误，105 分钟AC，重新夺回Rank1。    
这是很重要的一步，现在想来如果没有这个发现，后果可能不堪设想。    
B：二分答案+2SAT。129 分钟AC。    
B 是一道明显的2SAT 问题，由于题目比较长，我们没有很早发现这道简单题。    
D：发现了D 的没有考虑的情况，140 分钟AC。    
看了一个board，那时Abuacus，Eccentric 都只有4 题，能够在第一次参加正    
式比赛就做到6-4 的领先，当时心情很激动，不过由于缺少经验，也影响了接下来    
的发挥。其实，现在回想起来，这次比赛其实是一个很好的AK 的机会。    
F：DP。程序比较复杂，WA 了4 次。    
F 是一道比较复杂的动态规划的题目，其实WA 的原因是一个应该用int64 的    
地方，我们使用了int，这个地方的确很难发现。    
H：F 一时无法AC，只好转功H。H 就是普通的模拟题。开始没有考虑坦克和    
炮弹可能在1/3 秒相遇，WA 了1 次。    
比赛还有一个小时，封板。    
H：shell 发现了坦克和炮弹可能在1/3 秒相遇的情况，250 分钟左右AC。    
对于我们这种组队模式，当主写程序的选手状态不好的时候，很容易出现连续    
卡题的情况，这种情况的出现很不利于水平的正常发挥。在北京赛区的比赛中，我    
们很有幸没有出现连续卡处的情况。    
记得，当时北京赛区的Judge 的半自动的，就是说如果结果是AC，速度就会非    
常快，否则由于人的介入，不能AC 的提交往往需要等一段时间。我们第2 次提交    
H 之后，没有得到很快的回复，以为已经WA 了，于是我和superzn 继续测试一些    
数据。但此时，突然有一个mm 从左边走过来插气球，这个气球也成为了全场唯    
一的蓝色气球，这个意外之喜最后成就了第一个分区赛冠军。    
F：下面就是痛苦地提交F，一直战斗到最后一刻，WA 了14 次，留下了北京    
赛区最大的遗憾。    
在最后时刻我们似乎发现了那个int64 的错误，不过当时思路已经比较混乱了，    
没能改对。F 的问题也导致没有时间写I，当时如果直接重写后者换superzn 来写F，    
完全可以在比赛结束前AC。    
比赛的大致过程如上所述，那个神奇的气球，我现在仍然记忆犹新。最终有4    
个队伍攻破7 题，Abacus 的组成应该是盛城，timegreen 和suzhan 吧，Eccentric 中    
我只记得辛韬，ZSU_Panku 中我记得Savior（陈实）。上述的老朋友之后见面的机    
会就很少了，分区比赛也成为了我好需要老同学重要的交流机会了。    
我ACRush 的ID 估计就是那时开始使用的吧，转眼就已经3 年多了。    
比赛前后还记得经常与复旦大学的吴永辉老师聊天，在那之后的每次比赛我都    
能见到他年轻的身影。    
现在回想起北京的分区赛，很有幸能够在第一次参加ACM 正式比赛就获得分    
区比赛的冠军。我想是由于现场气氛对许多队伍都有不小的影响吧，当时许多队伍    
都卡在几道比较繁琐的题目上了，题目的算法性都不是很强。我大概从那时才刚刚    
接触TopCoder，如果能够早一些，相信会更适应这样的比赛。    
杭州赛区：    
2005 年的ACM 杭州赛区比赛在浙江大学举行，杭州赛区的时间就在北京赛区    
结束后一周，最初选择杭州赛区的原因很飘逸：我自己家在杭州。实际上也差不多，    
我随队伍（当时THU 派了3 只队伍参加杭州赛区的比赛，除了我们队之外，    
b142857（侯启明），zhy（周源），ysy（杨 思雨）组队，另外一只由汪汀，王俊    
和黄源河组成）一同抵达杭州车站之后就马上回家休息了，直到比赛前才赶回。在    
北京到杭州赛区之间的一周中，我的状态就在 不断下滑，在家中完全失去了比赛    
的气氛，回到赛场再也找不到感觉了。一场悲剧即将上演。我们先看看比赛过程吧，    
下面有底纹的文字是我找到的当时留下的比赛 总结：    
G：初看很简单，但是调试了30 分钟没有结果。    
G 是一道数学问题，其实《具体数学》书上有明确的公式，不过我们使用的递    
推方法应该也可以得到正确的结果。程序中犯了一些低级的错误，由于实在不在状    
态，调试了30 分钟还没有找到错误。这里还暴露了一个组队模式的问题，在后来    
的组队模式中，如果像这样没有想清楚算法的题目队友是一定不允许我去写的。    
A：模拟。41 分钟AC，当时肯定没有想到这是唯一一道1Y 的题目。    
A 是一道模拟题，1Y 的时候已经很晚了，排名也很靠后。    
C：图论。但是由于堆栈逸出RTE 了5 次，浪费了大量的时间。    
C 的问题关于树中祖先关心的判定，题目很简单，实现的方法也很容易，就是    
通过一遍DFS 来计算。但是我们忽视了一个从来没有遇到过的问题：堆栈溢出。    
而且，堆栈在本地机器上运行过程中，Eclipse 提供了8MB 左右的堆栈，所以没有    
溢出，但是在提交之后的环境下运行就溢出了。而且每次RTE 之后，我们一直在    
尝试修改数组的大小，一直没有找到根本原因。调试C 的同时，我也尝试修改G，    
结果G 也错了8 次之多，并且始终都是WA。    
I：shell 在我郁闷地调试C 和G 中AC 了，之前WA 了一次。    
I 是动态规划问题，WA 一次可能是忽视了一些边界情况。    
D：网络流，没有想到先贪心进行优化。TLE 了5 次最终没有通过。    
D 就是计算最小割，我们事先准备了先流推进算法，不过根据这道题目的模型，    
先流推进算法遇到最坏情况：二分图。由于当时dinic 还不是很流行，我们TLE 了    
5 次还没有通过。    
郁闷地调试D 和G。    
E,B：都尝试过，但是都出现了不明的问题。    
在随后的时间里，不断调试D 和G，但是始终不能AC。之后又尝试E 和B，E    
通过分段的方法可以处理，B 是数学题目。正常的话E 和B 并不是很困难的题目，    
但是当时已经非常混乱，连样例都没有通过。    
最终我们只过了3 题，排在21 名，经历了我参加ACM 以来最惨痛的失败。    
这次失败主要归过与我状态太差，基本上什么题目都不能顺利通过。当然题目的选    
择也有很大的问题：G 确实不是难题，但是由于未知的原因始终不能通过，后来我    
把纸上的程序敲在ZJU 上就AC 了，至于现场为什么不能AC 我现在还是不能明白。    
如果说第一题的选择直接影响了我们的信心，那么D 的堆栈溢出则完全打乱了我    
们的节奏。对于我们的组队模式，卡出2 题已经超出了极限，我们不可能再尝试    
其他题目。    
Abacus 也来到了杭州，他们前期体现了强劲的先期优势，在2 小时就达到了6    
题；b142857（侯启明），zhy（周源），ysy（杨思雨）的队伍表现得相当神勇，    
在最后一小时超越了Abacus，夺得了冠军。    
杭州赛区的失败至今仍是心中痛苦的回忆，不过这个教训也是对我今后的学    
习生活的一种警示。    
总结：    
2005 年是我第一年参加ACM-ICPC 的比赛，两场ACM 分区赛，我们经历了夺    
冠的兴奋，也经历了环顾四周等待比赛结束的无奈。2004 年清华没有获得任何分    
区赛的冠军，2005 年清华打了个漂亮的翻身仗，先后在成都，北京和杭州夺得冠    
军，而且是三支不同的队伍。    
两个赛区的G 都是有传奇色彩的题目。北京赛区中，我们25 分钟1Y 了G，    
导致许多队伍跟风失败，最终达到了208 提交8AC 的低通过率。但是，杭州赛区    
中，G 从比赛一开始就占用了我们大量的时间，直到最后都没有通过，估计至少浪    
费了两个小时左右。真所谓成也在G，败也在G。    
北京赛区后，POJ 的论坛上传闻说我曾经说过“起身去厕所，不许碰键    
盘。。。”，很敬仰那些同学搞笑和扯淡的功底，我们虽然定下了以我主写程序的    
组队模式，但是也非常重视配合和每个人在队伍中的重要作用。    
当时清华没有组织校内PK 选拔，选择了成都赛区的冠军队THU1 参加全球总    
决赛，当时总决赛队伍是以参考第二赛区的成绩决定的，现在回想起来也是很合理    
的。由于最终我们未能得到机会参加全球总决赛，接下来几个月我们情绪低落，    
bomber 从那时也就宣布解散了吧。    
2005 年的比赛过程中，我见到了许许多多的老朋友。用吴永辉老师的话，    
ACM 竞赛可以看作一些老朋友一起进行的一场智力游戏。    
附北京赛区前5 名：    
1 Tsinghua University=>bomber First Place 7 788    
2 Fudan University=>Abacus Second Place 7 983    
2 Shanghai Jiao Tong University=>Eccentric Second Place 7 1084    
3 ZhongShan (Sun Yat-sen) University=>ZSU_Panku Third Place 7 1194    
4 Peking University=>Monkey King Fourth Place 6 768    

谢谢韩家龙同学的热心帮助，找到一个排名的链接是：    
http://acm.zju.edu.cn:8080/icpc2005/ranklist/index.html    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作个    
回顾。GCJ2006，ACM2005 和TCCC2006 之后， 2006 年对于我来说是一个大丰收，    
今天晚上先回顾Mobile Robot 成立先期的事情吧，明天再总结惊心动魄的ACM 上    
海2006 和ACM 西安2006 吧。    
2006 年ACM-ICPC(上)——Mobile Robot 的成立初期    
回忆到2005 年清华没有组织校内PK 选拔，选择了成都赛区的冠军队THU1 参    
加全球总决赛，bomber 从那时也就宣布解散了。    
早在2006 年初，THU1 准备参加ACM-ICPC 2006 世界总决赛的训练时，我们的    
队伍就已经成立了。队伍其他两名选手是一起参加IOI2004 的geworm(鬲融)和    
wd.h(胡伟栋)。    
Mobile Robot 的组队比赛：    
至于Mobile Robot 的队名，我们是为了纪念2004 年4 名参加IOI 的选手第一    
次合作的时候使用的帐号，如果回到2004 年的PKU 月赛，也许可以看到thmr3191    
的身影，这个ID 最初是我们4 人共同使用的。其中thmr 就是Tsinghua Mobile    
Robot 的缩写。当然我们觉得Mobile Robot 读起来也比较容易上口。    
Mobile Robot 成立之后做的第一件事情就是配合THU1 准备World Final2006 的    
训练，先后模拟比赛了两次Northeastern Europe(NEERC)的题目。这两次训练中，    
我们队伍的主要模式都是：    
(1) geworm 全程负责读题，思考算法和出数据；    
(2) wd.h 和我在比赛前2 个小时一起攻简单的题目；    
(3) 2 小时后wd.h 就开始死磕难题，我主写程序一直到3 个半小时左右，结    
合wd.h 对难题的把握，大家开始合攻难题。    
这种拖后中卫的打法，对于NEERC 的题目难度非常合适，两场比赛我们都做    
到了AK（全过11 题）。这种组队模式也一直沿用至总决赛。当时wd.h 的状态很    
好，对于NEERC 的题目难度，我觉得世界上很难有队伍能够有信心做到AK。    
队伍成立初期的顺利使我们更有信心，我们利用署假时间进行了一些必要的训    
练以迎接2006 年下半年的ACM 分区比赛。    
北京赛区预赛——网络赛赛网络：    
2006 下半年有3 个国内赛区，包括北京，上海和西安，其中北京赛区最先举    
行。2006 年北京赛区的地点设在了清华大学，这也是我唯一一次参与组织ACM 分    
区比赛的机会。    
10 月 中旬举行了北京赛区网络预赛，网络预赛的参与者是所有报名参加北京    
赛区的队伍，以决定哪些队伍拥有参加现场比赛的资格。那段时间，我们队伍主要    
精力放在了 准备比赛上，我们都没有参与网络预赛的命题和测试平台工作。由于    
清华距离上次承办分区比赛已经相隔很多时间，直接导致网络比赛过程中出现了严    
重的网络问 题，在这里作为清华ACM 队的一员向受到影响的队伍道歉。    
不 过，我也是作为“局外人”来了解这次网络阻塞的，因为我确实没有参加    
任何与网络赛有关的活动。现在回想起来，我认为平台的稳定性是一个不可推卸的    
原因，但 是主要应该归咎于题目描述和样例的设计，当然还有测试数据的错误。    
设想这样一种情况，如果一个比赛过程中，从某一时刻起，突然增加1000 个提交    
需要rejudge，然后所有队伍还都在这一时刻起尝试提交，我想现有的大部分OJ 都    
很难在1 小时之内平息这些提交吧。再举一个更夸张的例子，如果OJ 准备的测试    
机器的测试速度已经完全跟不上提交的速度，那么卡住是不可避免的。我们通过网    
络预赛的教训总结出一些网络预赛题目的重要经验：    
(1) 对于容易上手的题目，测试样例一定要足够强。    
(2) 对于简单的题目，必须仔细确保测试数据是正确的。    
(3) 题目描述必须没有任何歧义，避免选手通过提交来不断尝试各种理解。    
如果题目能够很有效控制提交数目，对于测试系统的要求其实不是很高。例    
如复活赛和现场决赛的时候，测试系统会大部分时间处在空闲阶段。反之，如果提    
交处在上述病态的情况下，只有非常专业的测试系统才能胜任这样的挑战，当然不    
包括我们的测试系统。    
总之，对于网络问题我作为清华ACM 队的一员深表歉意，如果还有下一次的    
机会，我们一定努力做得更好。    
北京赛区验题赛：    
如果说网络预赛过程中，网络出了一些问题，那么，决赛则是结果更出乎我    
们的意料之外。在北京赛区现场赛之前几天，我们3 支队伍进行了验题赛，比赛    
虽然不正式，但是过程仍然很激烈。    
先列一下决赛的9 道题目吧：    
A. Robot    
B. Animal Run    
C. Another Minimum Spanning Tree    
D. Connect It, If You Can!    
E. Guess    
F. XAR    
G. What a Special Graph    
H. Ruler    
I. A Funny Stone Game    
现场赛只有BEHI 这4 道题目有队伍成功通过，可是在验题赛中我们队伍的进    
程完全不是这样，下面是我们的做题情况：    
22 分钟 A 题，数学方法，1Y    
首先，我们3 支队伍在30 分钟之内都1Y 了A 题。A 题是一道中等难度的数学    
题，可能A 题需要明确高次等差数列的求和公式，而且通过枚举来代替一些假设    
可以大大简化问题。现场比赛时有些队伍做了不正确的假设导致始终WA。    
记得当时zhuzeyuan 使用了一个奇怪的贪心方法，后来被OpenGL 找到一个反    
例，这个测试用例被添加到正式比赛的测试数据之中，这个反例也成为了现场赛中    
使得许多提交WA 的重要数据之一。    
30 分钟E 题，贪心，1Y    
E 是2006 北京赛区最简单的题目，只需要直接的贪心法就可以解决。    
52 分钟H 题，深度优先搜索，1Y    
H 是一道搜索题，题目时限不是很紧，不需要太多的优化就可以通过。    
75 分钟I 题，标准的博弈SG 问题，1Y    
I 是标准的博弈问题，通过计算SG 就可以得到结果。这题其实有一个阴险的    
地方，就是当某位置石子为大于0 的偶数时，也需要考虑以保证结果的字典序最    
小，好在我们及时避开了这个陷阱。现场很多队伍调入这个陷阱中，耽误了一些时    
间。    
129 分钟B 题，最短路径问题，3Y    
B 是一张平面图的最大流问题，由于图形比较有特点，所以可以建图来计算最    
小割。但是这张图有106 个点，2*106 条边，最短路径需要用堆来辅助实现，首先    
由于数组开小了RTE 了一次，然后由于用map 实现TLE 了一次。这题浪费了许多    
时间。    
G 题，实现和调试了30 分钟，超时    
G 是2006 北京赛区最困难的题目之一，题目描述很简单，判断一张图是否为    
co-graph。我们算法的复杂度是O(n*m/32)的，不过由于数据个数比较多，程序运    
行时间远超过了时限。    
C 题，贪心法实现50 分钟，WA    
C 题是计算平面图曼哈顿最小生成树，直接计算是O(n2)的，但是题目中n 接    
近100000。我使用了一个贪心算法，其实和标准算法差距不大，不过还是导致    
WA。其实提前写C 不是很合理的选择，当时没有注意到D。C 和G 难度相差无几。    
230 分钟F 题，构造，1Y    
F 题是很变态的构造问题，这题完全是wd.h 做的，我至今还不是很清楚算法。    
250 分钟D 题，计算几何，2Y    
D 题是一道比较复杂的计算几何，当判断一条直线是否穿过一个多边形的时候    
忘记考虑了一种情况，WA 了1 次。现场许多队伍其实都只忘记考虑了这一种情况，    
但是可惜没有队伍该正确。    
这场比赛最终我们队伍以7 题结束，另外两队也都通过了7 题。我们因此也    
没有修改题目难度，随后让大家没有想到的是：一场极低通过率的比赛即将开始了。    
北京赛区现场赛：    
现场比赛中，我负责在某一个房间为参赛选手送打印资料，比赛60 分钟左右    
由于技术问题到Judge 室处理一些问题。经过5 个小时的比赛，最终中科大    
Student 队通过4 题获得冠军，厦门大学btALT 通过3 题获得亚军，北京大学    
RPWT，浙江大学gogogo 和合肥工业大学Love Wisdom 也都通过3 题分列3-5 位。    
最终Student，btALT 和Love Wisdom 进军总决赛。    
回顾比赛现场过程，首先让我们出乎意料的是E，E 是2006 北京赛区中最简    
单的题目，贪心法的方法参加比赛的同学都想到了，可是有一个小小的细节，对于    
实数比较大小时，需要加入一个微小量eps 来控制精度。E 题没有加eps 的提交占    
到总提交的50%以上，我们称之为“经典提交”。这个小tricky 不慎导致很多队伍    
迟迟不能通过第一题，对许多队伍的状态有不小的影响。    
其次是A，A 题收到了很多队伍的提交，但是最终都没有队伍通过A。原因是    
大家做了一些不保证正确的假设，当时我们都通过枚举的方法避免了这些假设。    
另外，有一些队伍提早接触了F 和G，并深深地陷入其中。中科大早在240 分    
钟就通过了第4 题，可是之后他们在G 上花费了不少精力，我们甚至想跑到他们    
那里告诉他们G 是最难的。    
记得180 分钟到240 分钟，我们只接收到了不超过10 次提交，每次大家听到    
提交的声音，所有Judge 一起点鼠标抢测试权。后来，在TCCC2006 上和Ying 说起    
此事，据他说和2004 年的广州赛区有许多相似之处。    
总结：    
祝贺所有获得好成绩的队伍，恭喜Student，btALT 和Love Wisdom 进军总决    
赛。并再次对网络赛给大家带来的不便道歉。后来清华举行了名为复活赛的比赛，    
我想复活赛应该就是从那时开始出现的吧？    
当年清华一共有6 支队伍，但是只参加两个赛区的比赛，造成每个赛区之前    
都要进行小规模PK，最终只有4 支队伍有机会参加ACM 分区赛。Mobile Robot 建    
立之初比较顺利，获得了参加两个赛区比赛的机会，迎接Mobile Robot 的将是上    
海和西安赛区的挑战。    
我们3 人能够走在一起，要感谢吴文虎老师的支持，组队初期虽然没有经历    
大战，但是那些快乐的时光至今都很难忘怀。    
附北京赛区排名    
1 University of Science and Technology of China=>Student First Place 4 628    
2 Xiamen University=>btALT Second Place 3 417    
3 Peking University=>KU RPWT Third Place 3 460    
4 Zhejiang University=>gogogo Fourth Place 3 471    
5 Hefei University of Technology=>Love Wisdom Fifth Place 3 477    
6 Fudan University=>Yin-Yang Sixth Place 2 204    
7 Tianjin University=>TJU_Rhythm Seventh Place 2 212    
8 Beihang University=>L3 Eighth Place 2 254    
9 Peking University=>KU4 Ninth Place 2 275    
9 Harbin Institute of Technology=>IAC Ninth Place 2 282    
10 ZhongShan (Sun Yat-sen) University=>ZSU_Pyrenean Tenth Place 2 288    
11 Zhejiang University=>hoebus Eleventh Place 2 311    
11 University of Electronic Science and Technology of China=>Gryffindor Eleventh Place    
2 319    
12 ZhongShan (Sun Yat-sen) University=>ZSU_Himalayas Twelfth Place 2 324    
12 Fuzhou University=>OrOrz Twelfth Place 2 412    
13 Beijing University of Posts and Telecommunications =>Vitamin Thirteenth Place 2 432    
14 Ningbo Institute of Technology,Zhejiang University=>impact Fourteenth Place 2 435    
15 Huazhong University of Science and Technology=>rodimus Fifteenth Place 2 442    
16 Nanjing University=>HOENIX Sixteenth Place 2 459    
17 Fuzhou University=>Laplacian Seventeenth Place 2 467    
17 Fudan University=>Shuangwaiwai Seventeenth Place 2 500    
17 National University of Defense Technology=>Robust Seventeenth Place 2 517    
18 Fudan University=>Free Wings, Yeah! Eighteenth Place 2 518    
18 Hong Kong University of Science and Technology=>HKUST1 Eighteenth Place 2 692    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作    
个回顾。GCJ2006，ACM2005 和TCCC2006 之后，2006 年对于我来说是一个大丰    
收，昨天晚上回顾了Mobile Robot 成立先期的事情吧，今天先发惊心动魄的ACM    
上海2006 吧。    
2006 年ACM-ICPC(中)——Mobile Robot 上海对决    
回忆到，当年清华一共有6 支队伍，但是只参加两个赛区的比赛，造成每个赛    
区之前都要进行小规模PK，最终只有4 支队伍有机会参加ACM 分区赛。Mobile    
Robot 建立之初比较顺利，获得了参加两个赛区比赛的机会，迎接Mobile Robot 的    
将是上海和西安赛区的挑战。    
比赛前：空前的豪华阵容    
记得清华大学出发上海赛区的时间是10 月20 日晚上，至于为什么能记得如此    
精确，是因为在那之前我经历了真正意义上的“赶火车”。10 月18 日TCCC2006    
在圣地亚哥落下帷幕，19 日从旧金山机场起飞会北京，飞机着陆时间是20 日下午    
2 点半，进海关之后已经快4 点了，我立即乘坐机场大巴直奔火车站与大部队会合，    
之间都没有时间回寝室。    
来到中亚饭店报道拿到参赛队伍名单的时候，就赫然发现上海2006 的参赛队    
伍实力达到了几年来一个不可逾越的巅峰。上海交大的1234 队都出现在了名单中，    
还有浙大和北大的Final 队都来了，这些还不够，芜湖一中的Loner(周冬)，上海微    
软ATC 的lympanda 也参加比赛。上海交大一直是这几年来清华国内最强劲的对手，    
如今交大又占据主场优势，实力深不可测。上海微软ATC 虽然是旅游队，但是    
lympanda 凭借在TopCoder 上的表现，没有人敢轻视这位无冕之王的实力。    
对于上海赛区，清华也派出了华丽的阵容，参赛的有3 支队伍，除了Mobile    
Robot（我，geworm(鬲融)和wd.h(胡伟栋)）之外，还有鼎盛时期的Shangri-La    
（b142857(候启明)，lxd(林希德)和zhuzeyuan(朱泽园)）以及后来的西安赛区亚军    
GotoFly（zcgzcgzcg(朱晨光)，wangjun(王俊)，tedcn(龙凡)）。记得练习赛之前，    
大家一起围圆桌吃饭，朱晨光突然和旁边的王俊说，好像就我们两个没有参加过    
IOI，然后另一边林希德补了一句，就我们三个不是金牌。    
我第一次有机会敬仰候启明的时候，是自己第一次参加NOI——NOI2002 天津，    
候启明以满分的成绩获得冠军，当时的亚军就是林希德。之后的冬令营，我以非正    
式营员参加测试神奇得获得第三名，但更重要的是冬令营测试的冠亚军就是候启明    
和林希德，之后我再没有和两位前辈在OI 上交过手。时光飞逝，我代表bomber    
队参加2005 年的杭州赛区，被候启明领军的Legendary Team打得一败涂地。随后    
2006 年初的Google Code Jam China(GCJC)2006 上，我获得第三名，记得当天与获    
得亚军的候启明同住在总统套房。其实在上海赛区之前我没有在正式比赛中战胜过    
他们。Shangri-La 的另一人zhuzeyuan 现在是我的队友，记得他当时在TopCoder 仍    
然是Target（你可是早点在今年Final 之前把Target 拿回来呀，几次涨停就可以    
了），实力也不在前二人之下。    
面对知根知底的Shangri-La，大家都知道一场大战在即，从实力上分析，我觉    
得Mobile Robot 略弱，不过赛前我们都没有信心一定能够在比赛中占据优势。而    
且我们心里深知，上海赛区的结果将很有可能直接决定清华大学当年的总决赛队伍。    
面对这种残酷的现实，我们都无可奈何，有时一些有实力进军总决赛的队伍在清华    
都没有机会参加分区比赛。    
个人的经验看来，我认为在势均力敌的时候，最重要一点是明白自己的优势和    
劣势所在，要用自己最强的方面来对抗对手，避免暴露出自己的劣势。我想在这一    
点上Shangri-La 可能没有我们做得好。Shangri-La 的优势是三人的总体实力很强，    
他们完全可以采用三大高手的组队模式；我们组队时间长，配合默契，而且当时自    
己刚刚从TCCC2006 以100%正确率回国，保持了良好的状态。从单人比赛上讲，    
当时我的状态即使有Petr 和Tomek 在场，我都并不认为自己一定会有明显的劣势。    
比赛场地是上海大学的一个大体育馆，现场气氛很热烈，想到我们用4 个机房    
办的北京赛区的现场比赛，不由地觉得有些寒酸。    
在场外碰到了lympanda，他向我了解刚结束的TCCC2006 的情况，我于是给    
他描述了一下几道现场比赛过程中1000 分的题目，结果全部都被panda 秒杀了，    
无限敬仰呀！同时也第一次见到了周冬。    
提一件飘逸事情，记得当时练习赛有3 题，封版时没有队伍通过B 题，但是其    
实在封版后我们通过了这题，我们应该是当时唯一在练习赛中AK 的队伍。记得之    
后好像还和中山大学的郭老师交流过这题。不过至于B 为什么能够AC：B 题是一    
道需要SPJ 的题目，可是练习赛的时候没有SPJ，而我又坚信自己的程序是正确的，    
于是我不断提交。可能是由于Judge 不耐烦了，才用Yes 的方法让我们停止。    
比赛之前的晚上我们都休息得很好，第二天早上以充足的精力迎接史诗般的上    
海赛区决战。    
比赛过程：400 米赛跑    
我中学是很喜欢参加400 米比赛，400 米比赛从起跑姿势角度应该认为是短跑，    
但是400 米已经远远超过了冲刺极限。所以400 米跑中，要求我们从发令枪响起的    
时候就加速启动，直到拼尽全力为止。    
我们回顾一下比赛的过程吧，上海赛区比赛之后，我们写下了详细的比赛过程：    
按照一贯的方法，鬲融从A 开始读，胡伟栋从J 开始读，我准备编程的环境，    
然后从中间选择题目读。鬲融读完A 后，发现A 是一道简单题。于是选择先写A    
题。    
A：给定ACM网上预选赛的比赛晋级规则，求每所学校的晋级队伍数。    
简单模拟题，时间复杂度O(N)。本题题目有一个疑问：一个学校出线的队伍    
数目可能比该学校参加预选赛的队伍数目还多，但是题目描述和样例表明不需要考    
虑这种情况。    
ACM 比赛的第一题的选择对比赛的进程影响很大，当没有优先选择比赛中最    
简单 的题目时，更需要保持冷静。    
在我写A 的过程中，鬲融看了B 和C，发现C 也非常简单，于是马上做C。    
C：将一棵节点带权的树划分成两半，使两半的权值和的差最小。    
枚举或者树的遍历，时间复杂度O(N)。去年有一个深刻的教训：当遍历树的    
时候，很容易造成堆栈溢出(杭州赛区留下的疙瘩)。对于本题的范围，保险起见没    
有使用DFS，而是使用BFS。使用BFS 略微增加了编程量，但是可以在一定程度    
上避免不必要的麻烦。    
鬲融发现D 是一道经典的统计题，在不到3 分钟的讨论后，我们得出了可行的    
算法，于是下面写了D。在写D 的时候，鬲融和胡伟栋把题看完了，经过讨论，    
决定胡伟栋开始想一道数学题I，而鬲融继续看题义不是很清楚的G 和J 两题。    
D：给出平面里的一系列点，要找一个矩形，使矩形边上的点最多。    
离散化后，先判断一条直线的情况。枚举两条横边，然后枚举竖边，一旦一条    
右边的边比左边的边好，左边的边就不会再有作用。因此，枚举竖边的过程很容易    
做到O(N)，总的复杂度是O(N3)    
这题其实存在O(N2logN)的算法，我想出题人也应该没有在第一时间想到吧。    
做出D 后写了B，原因是B 的算法相对简单。但是意想不到的是：B 的样例不    
合法，而且Clarification 的速度非常慢，于是只好先把B 放在一边。这个过程浪费    
了不少宝贵时间。    
随后看到team109(Shangri-La)过了一道红色气球，感觉是G，于是鬲融给我讲    
了G，但是发现G 实在不像算法简单或程序简单的题目。    
此时，胡伟栋推出了I 的一个很简明的公式。而且我们发现I 的气球也是红色    
的。刚才看G 很可能是被误导的。于是写了I。    
写I 的过程中，由于鬲融看的题基本已经被做完了，胡伟栋给鬲融讲了H 的题    
意，鬲融想出了一个可行的做法，不过由于还有更简单的题并没有马上做。    
I：求杨晖三角形第N+1 行不能被质数整除的数的个数。    
可以找出规律，然后写出公式，时间复杂度O(logN)。我在并不知题目意思的    
情况下写过了I，依靠胡伟栋的公式，我们度过了此次比赛第一段艰难的时期。    
从过D 题到过I 题，大概有40 分钟的时间。这段时间我们主要的失误有：    
(1) B 的样例不合法，这其实不是我们的错误。    
(2) 受气球颜色的误导，过早思考一道很难的题目。    
(3) 后来听朱泽园的建议：由于一个人的问题导致卡住，应该一个人解决，不    
应该让全队都陷入混乱中。    
我认为我们直接选择写另外一道题目主要有两个原因：一是B 卡住的原因比较    
特殊，不是我们花时间就能克服的；二是I 的算法比较清楚，非常稳定。    
等I 过了之后，B 的Clarification 出来了，Judge 换了一组样例。于是开始调B。    
B：给出16 个数，将他们排成十字架形，使力矩平衡。求本质不同的方案数。    
十字架一共有4 个“臂”。首先找出一个“臂”的所有情况。然后将等值的无    
重复的合并成两个相对的“臂”。然后从16 个数中选出8 个，将他们作为一组，    
另外8 个作为另一组，这种方案的总数为前8 个成对的方案数乘后8 个成对的方案    
数。最后把方案数求和除4。    
本题属于搜索题，而且时限特别紧，由于搜索问题的优化空间往往很大，而且    
又是多组数据，所以很容易造成TLE。在调对样例后TLE 了一次，改进了算法后    
由于开小数组RE 了一次，终于在第三次提交通过了B 题。    
记得高中时一次在网上做题(只记得是xreborner 出的题目)的时候，比赛一开始    
就写一道时限很紧的题目，估计开始程序的正确性是没有问题的，就是效率比较低；    
但是，在不断优化的过程中改错了程序，导致1 个小时以后当程序不TLE 了以后，    
程序变成了WA。这样使得信心完全崩溃。    
听了很多同学讨论之后，发现不少队伍就完全卡在了B 题上。以后对这种题目    
只能倍加小心，现在我们还没有什么特别好的方法。而且，B 题的样例只具有测试    
性，不具有调试性，编程时必须特别仔细才行。    
这时大概才1 个多小时，我们看似顺利地通过了5 题；但是现场的情况并没有    
任何优势可言，Shangri-La 在几分钟后通过第5 题，两个队伍的罚时只相差1 分钟。    
随后我们到达了第二段艰难的时期，主要原因是鬲融把F 的题目看漏了一个条    
件，与胡伟栋讨论后误以为这个题比较容易，很快这题出现Run-time Error 好在重    
读题后发现错误并及时放弃，没有再浪费时间去把Run-time Error 调成WA。如果    
当时死做此题则后果不堪设想。    
在鬲融和胡伟栋分别读F 的程序以及题目的时候，由于现在剩下的题目都比较    
复杂，我们选择了一道相对清楚的题目H 继续做。    
H：对一个集合进行两种操作：插入一个数和询问MOD Y 最小的数中最后一    
个数。    
由于数字的范围是[1..500000]，先选择一个合适的M。当Y<=M时，通过插入    
时直接保存来处理，当Y>M 时直接枚举，用并查集求一个元素的后续。这样每一    
次操作的时间复杂度是O(Sqrt(500000)).    
但是，开始选择M为1000，并没有充分估计复杂度的平衡性。开始我们认为    
并查集的常数较大，但是后来感觉到并查集的常数相对小一些，于是把M选为    
500 就过了。后来在同出题人交流的时候，被告之M取在400-800 的范围内都可以。    
第二段艰难的时期的原因可能不仅仅是题目看漏，也由于题目难度已经增加。    
好在当时特别是当H 的程序TLE 之后，我们都比较冷静，相信自己H 题的算法是    
正确的算法，只是参数的选择不够合理。这种考验在平时一般是很少遇到的，经受    
这次考验之后，再遇到类似的问题，我们应该能够更冷静一些。    
过了H 之后，鬲融已经再次确认了J 的题意，随着气球的指引，我们决定攻克    
本次比赛最大的“纸老虎”：J，而做J 的过程中胡伟栋一直在想G，已经大致得    
到了算法的框架。    
J：给出一些数的大小限制的关系，求更精确的关系后者判断为矛盾。    
转换成图的模型，不断迭带调整，直到不能调整为止。当然这题由于大小限制    
关系中既有’<=’还有’<’，所以需要判断XI<XI 是不合法的。时间复杂度O(N    
３)。    
J 题的数据输入输出比较复杂，但是题目本身很简单。这题对编程能力提出了很高    
的要求。    
通过J 题之后，看了一下board，当时Shangri-La 只有5 题，不过在我们还没    
有反应过来的时候Shangri-La 就也同样7 题了，罚时上我们领先4 次提交。    
在比赛的前200 分钟，我延续了TCCC2006 的良好状态。我们配合默契，在面    
对BHJ 这样琐碎的题目时，队友会提前把需要注意的细节总结在纸上，整个 过程    
都保持得很平滑。另外，鬲融和胡伟栋在我做每一题时都准备了很合适的测试数据，    
大大减小了我测试的时间并很有效地提高了提交正确率。由于剩下的题目难 度明    
显高出一个档次，在通过7 题时的罚时领先是最后获得比赛胜利的重要砝码。    
现在剩下的只有E，F，G 三道没有队通过的题目了，其实最终也没有队伍通    
过。我们曾经读错过F，因此这次分别尝试了E 和G，但是都失败了。这里我们曾    
经讨论过先做E 还是先做G，当时面临的选择是：E 的复杂度估计较高，不知优化    
后能否通过，而G 的算法性更强，胡伟栋仍然没能完全清楚如何解决，实现的复    
杂度高于E。我们这次带有赌博性的选择了E，并没有仔细考虑如果E 的时间要求    
过于严格会出现什么问题（可能与B 的相对轻松通过有一定关系），在此后的比    
赛中我们应该注意周全考虑，尽量选择题意清楚并且复杂度容易估计的题目。    
E：带限制的有向图的第K 短路。    
本题其实有标准的A算法，我们也使用了这个算法。但由于复杂度过高，我    
们的程序一直TLE。据Judge 说这题对时间的要求非常严格。    
G：在一个森林的若干点布置仪器，仪器有作用范围D，仪器之间的距离需要    
大于等于D，求最大的覆盖长度和最小的权。    
本题可以使用二次方状态的动态规划，类似CTSC2004 的一题。我和胡伟栋讨    
论后成功想出了正确的方法，并且在最后时刻写出了程序，而鬲融和胡伟栋则出了    
一些测试数据，将数据调过后时间已经很紧张了。首先由于忘记优化floyd 超时了    
几次。在优化了floyd 算法之后，还是没有考虑到图不连通的情况，未能在比赛结    
束前调出。    
F：给出一些公理，假设和定理之间的关系，依次尝试，推出尽可能多的定理。    
在同等情况下要求使用的假设最少。    
本题可以用最小费用最大流解决，但是比较容易实现的网络流算法都很难在时    
限内出解。    
现在看来，EFG 三题中的E 没有比赛中想像得那么难，当时比赛中受到巨大压    
力的影响没能攻破此题，不过FG 题即使出现在CTSC 难度的比赛上也非常合适。    
比赛结束：罚时险胜    
比赛结束时我们与Shangri-La 同为7 题，上海交大一队最终也通过了7 题，我    
们依靠罚时的微弱优势险胜。经过惊天地泣鬼神的300 分钟，我们终于获得了梦寐    
以求的2006 上海赛区冠军。Mobile Robot 凭借着上海赛区的夺冠，已经可以认为    
获得了进军2007 东京世界总决赛的入场券。    
比赛结束后见到了很多复旦的老朋友和吴永辉老师，吴老师还是和以前一样，    
玩笑开个不停。那些复旦的老朋友赛前由于是参与出题，我们一直没有看到，颁奖    
仪式之前，我们终于有机会在后场一起聊天。不过聊天这些时间中，我和b142857    
错过了郭老师在颁奖仪式前进行的“点名”（当时郭老师要求我们上去讲解题目），    
实在不好意思。    
总结：    
首先向Shangri-La 致敬，即使在最后一刻，相信大家都还仍然有机会，棋逢对    
手也是我ACM生涯中的一大幸事。当两支队伍都通过7 题的时候，排在第3 名的    
队伍才刚刚5 题。也就是说，我们两支队伍其实只用了2/3 的比赛时间就锁定了上    
海赛区的冠亚军。    
上海交大一队最终也通过了7 题，比赛开始时我们就注意到了交大开场时非常    
不顺利，不过顽强的交大一队稳扎稳打，在最后一小时也成功通过了第7 题。在这    
里向交大致敬，开场的种种不利不亚于我在杭州2005 时的起跑，你们能够沉着应    
战，破釜沉舟的精神一直值得我们学习。当时交大一队中有一位来自辽宁的选手辛    
韬，记得NOI2003 之前我们有数次交手都以我失败告终，后来经常在许多网上比    
赛中切磋，2005 年ACM 北京赛区也有你熟悉的身影，在清华早有耳闻你在交大的    
优异成绩，祝福你今后越来越好。    
这次比赛的命题工作是由复旦大学担任的，复旦大学的命题特点与东欧的命题    
风格很接近，题目的算法性偏强，题目对程序运行速度要求普遍高。    
按照panda 的说法，上海微软ATC 队由于一些配合的失误，最终只通过5 题，    
不过也是前10 的队伍之一。另外，芜湖一中队也顺利通过5 题排进前十。GotoFly    
通过第3 题的时候还排在第3，不过后来卡死在J 上了，有些可惜。    
后来，分配总决赛名额的时候，上海赛区得到了10 个总决赛名额，这个数字    
相信也是这些年来的之最吧。    
这是一场值得纪念的比赛，参加2006 上海赛区的强队实力远高于几年内的各    
大赛区，能够站立在上海赛区的最高领奖台是Mobile Robot 获得的最高荣誉之一。    
经历了上海赛区大战的洗礼，接下来的西安赛区出场的则是更成熟的Mobile Robot。    
附上海赛区排名：    
1 Tsinghua University => Mobile Robot 7 617    
2 Tsinghua University => Shangri-La 7 709    
2 Shanghai Jiao Tong University => Lacotix 7 1034    
2 Fudan University => Symphonic Rain 6 924    
2 Shanghai Jiao Tong University => Prodigies 6 957    
2 Fudan University => ShuangYY 6 1098    
2 Xiamen University => btALT 5 534    
3 National Taiwan University => puyo 5 563    
4 The First Middle School of Wuhu => WHYZ 5 652    
4 Microsoft ATC Shanghai => Core-Stop-Dump 5 729    
4 Zhejiang University => Golden Keyboard 5 817    
5 Peking University => PKU_T2 5 819    
6 Zhejiang University => Dasher 5 956    
6 East China University of Science and Technology => Redfield 4 325    
7 Tsinghua University => GotoFLY 4 367    
7 Zhejiang University => sago 4 392    
7 National University of Defense Technology => Robust 4 438    
8 Zhongshan University => ZSU-Tanglha 4 512    
9 Tongji University => Revenge 4 559    
10 Shanghai Jiao Tong University => H-E-A-T 4 600    
10 Xidian University => ACMore1 4 602    
11 Wuhan University => Moonmist 4 723    
12 Zhongshan University => ZSU_Olympus 4 765    
12 Nanjing University of Science and Technology => Narcissus 4 774    
13 Northwestern Polytechnical University => 1010 1100 4 845    
14 Harbin Institute of Technology => Gaminerie 3 200    
15 Fudan University => White * [ Bear + Dew + Cloud ] 3 337    
15 Zhongshan University => ZSU-Everest 3 360    
15 Hefei University of Technology => Happy For Unpain Teeth 3 406    
16 Beijing University of Posts and Telecommunications => Neon 3 442    
17 Shenzhen University => Aspire 3 453    
18 Harbin Institute of Technology => Corsair 3 457    
18 Nanjing University of Science and Technology => backbones 3 461    
18 South China Agricultural University => scau_update 3 468    
19 Huazhong University of Science and Technology => rodimus 3 480    
20 Ningbo University => ACHC 3 505    
21 Peking University => www_pku 3 513    
21 Fuzhou University => OrOrz 3 520    
22 National University of Defense Technology => Puzzle 3 520    
22 Donghua University => Gespenst 3 535    
22 Hunan University => Footmen 3 535    
23 Tianjin University => TJU_Rocket 3 563    
24 National Taiwan University => ABCDE 3 568    
24 Nanjing University of Aeronautics and Astronautics => ZipFish 3 575    
25 University of Electronic Science and Technology of China =>    
transistor 3 599    
26 Shanghai Jiao Tong University => Lucifer 3 608    
26 Zhengzhou University => ZZU_cheapwine 3 650    
27 Wuhan University => Silence 3 685    
27 Hangzhou Dianzi University => MP3 3 687    
28 Jinan University => JNU-FLY 3 830    
29 Huazhong Normal University => Neptune 3 857    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作    
个回顾。GCJ2006，ACM2005 和TCCC2006 之后，2006 年对于我来说是一个大丰    
收，晚上发ACM 西安2006 吧。    
2006 年ACM-ICPC(下)——古城西安    
艰苦的ACM2006 上海赛区结束之后，我们原本以为清华会选择另外3 支队伍    
参加西安赛区的比赛。况且，大三的课程的实验任务很重，我们也就停止了计划的    
定期训练。大概在25 天之后，12 月20 日左右突然收到邬老师的通知，准备出发    
参加ACM 西安赛区比赛。我们的2006 西安之旅也就是在这比较仓促的准备中开    
始的。    
西安赛区之前，我们没有定下明确的目标，比赛过程中处处都采用了追求稳健    
的方法，当时也是为了避免一年前的杭州悲剧重演。    
西安的比赛没有太多兴奋的AC，没有惊心动魄的场面，所有过程都在类似旅    
游的气氛中结束了。作为Mobile Robot 的最后一战，这里也作一个简要的回顾吧。    
由于这次题目又是Srbga（刘汝佳）命题的，我最后也顺便列举一下我总结的他命    
题的特色吧。    
比赛过程：    
2006 年清华同样派出了3 支队伍参加西安赛区，除了Mobile Robot（我，    
geworm(鬲融)和wd.h(胡伟栋)）之外，还有Panacea（OpenGL(唐文斌)，zhy(周源)    
和liuhe(刘贺)，如果你第一眼看见这个词就知道是什么意思，我相信您一定准备过    
GRE 吧？）以及一起参加过2006 上海赛区比赛的GotoFLY（zcgzcgzcg(朱晨光)，    
wangjun(王俊)，tedcn(龙凡)）。    
2006 年冬天是我第一次来到西安，刚下火车就深深感受到了西安的古城气息。    
到达宾馆之后，我们做得第一件事情就是玩，印象很深的是钟楼，鼓楼还有大雁塔。    
我们做的最主要的事情可以用GotoFLY 的4 个大写字母GFLY 来表示，就是“公    
费旅游”。    
比赛之前的晚上，我们认真讨论了比赛中采用的策略，参加西安赛区没有太多    
传统强队，我们一致觉得应该优先采用比较稳健的策略。赛后有比较简短的总结：    
按照一贯的方法，鬲融从A 开始读，胡伟栋从J 开始读，我准备编程的环境，    
然后从中间选择题目读。与上海赛区相比，比较顺利的是我一下就看到了一道比较    
简单的题目B，于是我马上写了B 题。    
B：使用火柴棒拼接数字，给定n,m，求使用不超过n 根火柴棒拼成的m 的倍    
数中最大的数字。    
本题主要的思想是动态规划，方程很容易得出，时间复杂度O(nm*10)。但是    
本题有两个难点：    
(1)如何得到最大的数字？标准的方法是使用BFS，搜索的过程中必须非常注意    
搜索的顺序，但是这样实现很容易出错。我注意到了n<=100 的条件，因此结果不    
会超过50 位，于是我使用3 个int64 来保存结果，这样既实现简单又不容易错。虽    
然程序常数比较大，但是不至于导致超时。    
(2)不能不使用火柴棒，而数字0 也需要火柴棒来拼成。例如n=5，m=97 的结    
果是-1，而n=6，m=97 的结果是0。    
ACM 比赛的第一题的选择对比赛的进程影响很大，此次比赛很成功地使用了    
很稳妥的算法。    
E：标准的课堂睡觉问题，求最早所有人不睡觉的时间。    
简单的模拟题，而且时限很宽松。    
E 其实是最简单题目，但是由于我的低级错误，不仅得到了一次罚时，而且浪    
费了宝贵的时间。好在当时比较冷静，很快改正了错误。    
D：对于一个不超过100*100=10000 的表达式，可以在其中加入*来表示任何    
字符，如果一个表达式只能和唯一的等式对应，则称为A 类表达式。给定一个表    
达式B，要求通过改变最少的字符使它变成A 类表达式。    
本题使用了一次搜索再检索的方法，可以有效控制程序的速度。估计时限问题    
后选择先提交节省了不少时间。    
J：给定一个4*4 的网格的边框图形，问是否可以通过在4*4 的网格上放6 个    
2*2 的正方形框得到。    
H：给定一组旋转后的乐谱及初始音符及结束音符，求原始的音符序列。    
开始胡伟栋没有看到旋转的角度是整数的条件，于是推出了可以解决实数角度    
的数学公式。但是由于公式需要考虑的情况比较复杂，幸运的是我们使用了枚举角    
度再判断的方法。    
写了读入部分之后，看到Panacea 过了H 题。鬲融重新读了题目，发现了角度是整    
数的条件，于是稍微修改就得到了正确的程序。    
本题需要判断的条件很多，需要考虑得很仔细：    
(1) 先把坐标按照X排序。    
(2) 通过初始音符及结束音符得到sd，判断sd 是否在1 到5 之间。    
(3) 判断相邻两个字符的距离是否在sd 到5sd 之间。    
(4) 判断每个点的坐标是否可以对应一个音符。    
F：求3 维空间的Voronoi 图，输出每个Voronoi 块体积占的比例。    
胡伟栋提出了本题的正确算法：分割立方体。如果一个立方体的8 个顶点都到    
一个点最近，那么这个矩形内的所有点都到这个点最近，否则就分割这个立方体，    
直到立方体的体积少到一定程度为止。    
开始程序的精度不够，后来胡伟栋提出了一个启发式的分割立方体的方法，思    
想就是使得两个立方体的分割面以尽量大的概率穿过Vorinoi 平面。程序的效果很    
好，而且那时时限也已经放宽，于是顺利通过了F 题。其实本题蒙特卡罗法也可    
以过，我们也想到了这个方法，但是由于随机过程写的效果有问题，导致精度不够。    
通过F 题的时间是270 分钟，封版时除了Panacea 通过4 题，其他队伍最多只    
有3 题。当时Panacea 正好坐在我们背后，很可惜他们卡在了D 和G 上，最终也    
只有4 题。最后半小时我们也没有尝试H 或者A，因为其他队伍很难在最后一小    
时通过4 题。我们就简单尝试了几次C 就默默地等待着西安赛区比赛的结束。    
最终我们通过6 题排名第一，由于已经获得了上海赛区的冠军，不参加ICPC    
的排名，不过仍然获得了Solaris 杯。    
总结：    
西安的ICPC 冠军是北京大学的T2（rainer，dzx 和cici），后来他们依靠西安    
的夺冠成绩进入了2007 年的全球总决赛。T2 在最后一小时表现极其神勇，顺利通    
过2 题一举超过了GotoFly 和Panacea，而且最后几分钟还很有希望通过H，赛后    
和rainer 讨论之后发现算法相差无几，可能就是一些小细节缺陷吧。2006-2007 年    
度的ACM 比赛，从上海到西安，还有东京的总决赛，Mobile Robot 每次比赛都能    
看到了T2 熟悉的身影。我们在封版之后常常由于压力较大很难攻破题目，他们在    
封版之后的冷静心态非常值得我们的学习。    
GotoFly 与T2 一样通过5 题，由于5 分钟的罚时劣势位居第三，Panacea 通过4    
题依靠罚时优势排在第四。两队都欠缺一些运气，很可惜。另外印象很深的是，坐    
在对面的朝鲜队通过了4 题在ICPC 中排名第2，如果西安能够多一个名额的话，    
他们就能够出现在总决赛赛场了。    
西安赛区是Srbga（刘汝佳）出的题目，从高中时期就开始做了Srbga 出的题    
目，西安赛区的题目又一次体现出了刘汝佳命题的许多重要特色：    
(1) 如果Srbga 大哥出是一套题目，那么你会明显觉得题目拿在手上明显重一    
些。Srbga 大哥出题很重视题目描述或者故事的完整性，他很少使用一些僵    
硬的题目模型和描述。有时读着他出的题目更像是在读小说，欣赏故事。    
当然，由于Srbga 大哥出的题目描述完整，刚拿到题目的时候会感觉很难    
上手。我们很容易发现没有一道题目容易上手。用数据表达，比赛开始时    
的空机时间偏长。    
(2) Srbga 大哥出的题目和世界总决赛的题目风格近似，题目多半对编程能力    
提出很高的要求，相比之下对算法的要求不是非常高，考察的都是比较基    
本的算法。如果用一个字形容就是：野。    
(3) Srbga 大哥出的题目对算法的考察范围非常广，虽然对于某特殊的算法要    
求不高。有时还需要很强的组合算法能力。    
(4) Srbga 大哥出的题目中很注意数据的设计，例如C 题中特别生成了极端的    
情况，J 则使用了接近20000 组数据。一般情况下，不经过精心设计的随机    
算法会吃尽苦头。    
2006 年的Mobile Robot 的ACM 分区赛比赛任务已经全部结束了，2006 对于    
Mobile Robot 来说是丰收的一年，我们圆梦了上海和西安的双冠军。在随后的冬天，    
我们加紧训练准备东京的总决赛。    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作个    
回顾。回顾了GCJ2006 和2005 年的ACM 之后，转向TopCoder 的比赛吧。我参加    
的最早的TopCoder 赛事是TCCC2006。    
TCCC2006——死亡之组    
TopCoder Collegiate Challenge(简称TCCC)是TopCoder 一般在秋季举行的面向全    
世界在校学生的程序设计大赛，2006 年的TCCC 在圣地亚哥举行。从北京到旧金山    
的飞行只需要11 个小时左右，所以不至于那么疲劳。路上一切都很顺利，很感谢    
OpenGL 的提醒，对于超过8 个小时飞行自带拖鞋和枕头对我来说还是很重要的。    
TCCC2006 使用的标准的TopCoder 现场比赛形式，比赛有48 名选手参加，首    
先48 名选手被分为16 个人一组，每组分别进行半决赛，前2 名直接晋级决赛，3-    
6 名晋级wildcard 比赛，wildcard 比赛12 人中的前两名填补决赛的最后2 个名额，    
决赛由8 个选手参加。TopCoder 现场比赛中很重要的一个创新是：每名比赛选手    
在观众席前都有一个同步的显示器，这样观众可以看到选手任何时刻做的事情，极    
大增强了互动性。    
TCCC2006 的Room 1 和后面的Final Round 都可谓是死亡之组。现在就回忆一    
下这两场激烈的比赛吧。    
Room 1：    
至于3 个房间的分配，TopCoder 按照注册截止时选手的Rating 分布蛇形分配。    
但是TCCC2006 的房间实力分布极不平衡，我与上届冠军tomek，著名选手reid，    
Egor，halyavin 还有Rating 不高但是实力极强的Ying 和ardiankp 同被分到了Room    
1，赛前Room 1 成为公认的死亡之组。    
在圣地亚哥，我和师兄Macsy（张一飞）同一个房间，很感谢师兄的关心，我    
那几天休息的都很好。要知道如果同房的人有10 小时左右的时差的话，一人必须    
很小心才能保证不影响另一人的休息。    
Room 1 在我抵达美国的第二天早上进行，选手允许提前30 分钟准备一些必要    
代码。不过现在大家都比较喜欢学习Petr 那样一行代码都不打。下面就是比赛的    
过程：    
250 分题目是：给定n(n<=50)个整数AI 和一个阈值d，计算n 个整数所有排列    
PI 中满足|API-API+1|<=d 的排列中，所有不同可能AP1 的个数。这题最标准的方法是    
动态规划，基本思想是把n 个整数排序之后，计算两条相邻元素不超过d 的序列。    
我使用了一种更精巧的算法，把n 个整数排序之后，对于AI，如果AI 可能作为排    
列的第一个元素，那么AI 必定在某一个方向（大小）连续而在另一个方向每间隔    
两个元素相连。这个算法比较容易实现，但是正确性证明比较难，甚至让人第一感    
觉是错的。我写完程序测试了所有样例都正确就提交了，243 分。提交之后我又测    
试了许多数据，并在纸上尝试证明正确性。    
赛后，我看了网络上的讨论记录。在我提交250 分题之后，立刻遭到了misof    
的怀疑，他认为我的算法有问题。据Macsy 学长的回忆，OpenGL 在我屏幕前看我    
写完程序，也认为我的算法是错的，不过后来他们讨论之后发现没有反例。    
关掉250 分题目之后，我刚刚意识到Room 1 的3 题分数不是250-500-1000，    
而是250-600-900。现在看来，对于250 比较顺利的情况，应该先做500，若250    
不顺利或者想出奇制胜的话，可以先开1000 分。当时没有什么经验，我认为900    
比600 应该简单一些，于是就打开了900。    
900 分题目是：给定一张n(n<=10)个点的带权有向完全图（也就是n2 个实数）    
和一个衰减系数p，求一条经过d(d<=10)条边路径（不需要保证简单路径），要求    
这条路径的指数衰减长度（指数衰减是指第i 段的长度乘以pi-1 然后求和）最接近    
1000。这题如果使用穷举法，就需要1010 左右的计算量，在TopCoder 的测试机上    
也不能通过，由于路径长度很容易超过1000，所以很难找到多项式时间的动态规    
划。我马上有了一个想法——双向搜索。对于长度为d 的路径，其实可以看作从    
某一个点p 出发的一条反向的长度[d/2]的路径和一条正向的d-[d/2]的路径，对于    
固定的节点v 来说，这种两个方向的路径都不超过n[d/2]，这样只要枚举一个方向    
的路径然后二分查找另一个方向即可。复杂度是O(dn2+[d/2]) 。    
现场比赛调试环境不是很好，我花了不少时间调试以发现程序中的错误。提    
交之后690 多分，还不到700。不过对于900 分的题目在那种压力下还可以接受。    
提交之后我花了15 分钟左右测试，没有发现错误。于是就准备做600 了。    
600 分题目是：一道经典的数学题，给定一些盘子叠放的规则，计算顶层盘子    
的最大可能大小。其实算法不是很难，只要二分顶层盘子的大小，然后依次贪心计    
算来判断底层是否能够满足即可。只是贪心的时候要考虑两种情况，一时想不清楚。    
我当时已经感觉很疲劳，思路不是很清楚，最后40 分钟时间也没能调试通过。这    
题过于琐碎，Room 1 中最终没有选手通过600 分题，并且成就了一个刺激的    
Challenge 阶段。    
Coding 阶段我和tomek 采用了截然不同的策略，我跳过600 直攻900，而    
tomek 在600 中挣扎了很长时间才放弃。Coding 阶段结束时，有4 名选手提交了3    
题。我依靠速度优势领先同样提交250 和900 的tomek 35 分左右。    
Challenge 阶段开始时，我盲cha（blind challenge）了一个最后时刻提交的900    
分程序，但是由于我选择的数据实在太弱，失去了25 分。这样我和后面的tomek    
只相差10 分左右了，所以我决定只要tomek 不动，我也不动了。其实，当时    
tomek 已经知道自己的900 是错的，Challenge 阶段他估计已经放弃了。我的    
Challenge 阶段最终就以-25 分结束。    
之后的Challenge 就是Ying（王颖）展现勇气和智慧的舞台了。他Challenge 掉    
了所有提交的600，凭借225 分的加分超过了我，排在榜首。这样比赛的形式也一    
目了然了，7 位选手提交了900，我依靠速度优势领先第四名reid 超过100 分。只    
要我两道题目能够Passed System Test 就足以进入Final Round 了。    
System Test 之前，我和Ying 讨论他“超神”的Challenge 阶段。这是我第一次    
参加TopCoder 的现场比赛，发现System Test 结果显示是按照System Test 之前的    
排名倒序进行的。测试到我时，除了tomek 的4 名选手的900 都过了。显示我的    
结果时，两个绿框闪烁了很久终于显示出了两个大大的钩，我终于可以欢呼庆祝胜    
利了。我前面的Ying 也两题全过了。这样我们两位中国选手得以在死亡之组携手    
出现，这场比赛真可谓是中国选手的胜利。Reid 只能在Wildcard 赛再作努力，    
tomek 则被直接淘汰出局了。    
Final Round：    
接下来的两天里，我观看了Room2，Room3 和Wildcard 的比赛。第2 天晚上    
我们参加了TopCoder 赞助的Laser Tag 游戏，我们所有中国人组成了一队，我的发    
挥很差，原因是这个游戏与CS 不同，选手头上没有感光器，而我喜欢遇到人就攻    
击头部，所以狭路相逢多半是我失败。活动中，我有幸结识了许多Dev 的神人，    
当时由于vividmxx 没有参加，magicpig 和PE 的竞争很激烈，最终PE 获得了“浙江    
大学建校100 年来第一个TCCC 冠军”。记得赛后我uncle 来到现场，我uncle 是    
浙江大学本科毕业的，magicpig 见我uncle 第一句话就是“浙江大学建校有100 年    
历史了吧？”汗死了。另外zjq 也获得了Design 的亚军。    
第三天中午Championship Round 开始了。决赛时，场地里安装了很多摄像头，    
可以说我们的任何举动都在严密监视下了。这回我提前确认了题目分数是标准的    
250-500-1000 的分布。参加决赛的选手除我之外有：andrewzta，ardiankp，bmerry，    
Eryx，mathijs，Petr 和Ying。面对决赛选手的实力，我已经没有意义定一个类似于    
“保几争几”的目标了，努力发挥自己的水平是最应该做的。下面就是比赛的过程    
了：    
250 分题目是：给定n 个正三角形，每个顶点都有数字，选出6 个三角形拼成    
一个正六边形，要求相邻的数字必须相同。三角形允许旋转，计算能够得到多少个    
本质不同的正六边形。题目很长，我仔细读了两遍才开始写，算法很清楚，就是枚    
举六边形中心和四周的7 个数字，然后判断是否有足够的三角形。在判断本质不    
同的时候犯了一个错误，调试了几分钟，提交之后只有215 分了，看了一下排名，    
Petr 有232 分之高，其他选手都还没有提交。测试了几分钟发现程序的运行时间不    
是很稳健，很容易到达0.8 秒左右，测试了15 分钟之多才逐渐放心下来，因为基    
本上所有数据都0.8 秒左右。赛后Macsy 告诉我，我的程序速度瓶颈是在set 的判    
断，所以时间比较稳定，不会超时。我当时的犹豫和没有经验浪费了至少20 分钟    
的时间。    
按照赛前的计划，我这时应该打开1000 的题目的，但是由于自己对250 没有    
信心，而且求稳思想比较重，我先打开了500 分的题目。现在看来，开500 分的    
题目并不算错误，其实在打开500 分题目的时候，与Petr 的差距不是很大。    
500 分题目是：给定一个机器人的移动命令序列，要求计算结束时机器人的位    
置。由于移动序列中允许()这样的重复操作，直接模拟是超时的。这类题目的标准    
算法是利用矩阵乘法，由于之前对于此类题目没有经验，没有准备好就开始写了，    
导致矩阵处理失败。我果断放弃了调试，换用一种记录中间结果的搜索方法，写完    
的时候已经只有280 分了。更重要的是我已经没有时间进攻1000 分了。提交之后    
排在第3，前面是Petr 和Eryx。    
1000 分题目是：给出一个排队取菜的模型，计算一个等待时间的排队序列。    
而且对于多种答案的情况，要求计算字典序最小的序列。题目其实不是很复杂，集    
合动态规划就可以解决，不过模拟取菜过程时需要非常注意细节。Petr 提交了一个    
660 分左右的程序，Ying 则在最后一分钟提交了400+分，排在第2。    
Challenge 阶段显得很枯燥无味，前两天大发神威的Ying（+225）和Petr    
（+300）都没有尝试Challenge，整个Challenge 阶段没有任何一个Successful    
Challenge。    
System Test 结果出来了，在bmerry，ardiankp 和andrewzta 都只通过一题的结    
果出来之后，排在我后面的mathijs 两题都Pass，随后我的250 和500 也都Pass 了。    
但是，排名在我之前的Eryx 和Ying 的500 分和1000 分都Failed System Test 了，    
我瞬间提升到了第二名的位置。不过虽然Petr 的1000 分挂了，但是他依旧凭借    
250 和500 的速度获得了冠军。    
在这里说一下1000 分的真实情况吧，因为这些时间来对于TCCC2006 Final    
Round 的1000 分题目有很多不同的说法。比赛结果中显示没有选手通过1000 分题，    
如果仔细分析测试结果，Petr 的程序由于超时出错，而Ying 的程序由于一个地方    
没有清0 而导致错误，确实很可惜。因为如果Ying 的1000 能够Pass 的话，他将    
是TCCC 的冠军。不过Ying 的算法犯了与造成Petr 超时一样的错误，他们的动态    
规划程序比标准方法多出一个n 倍的时间，我曾经成功生成了一个用例，可以让    
Ying 和Petr 的程序都超时，这个例子已经得到了Ying 的认可。需要指出的是    
TCCC2006 是TopCoder 的测试机的速度还是很慢的，两个程序如果在现在的机子上    
运行可能只需要1 秒左右了。    
比赛之后和uncle 到downtown 游玩了一下，参加完颁奖晚会，第二天就回国    
了。    
总结：    
TCCC2006 是我第一次参加TopCoder 的现场比赛，很有幸能够在这么多的第一    
次中就进入决赛并且获得第2 名的成绩。很感谢同参加比赛的同学Macsy，    
OpenGL，Ying 还有PMH 的关心和帮助，你们在我比赛时全程在场边，让我感觉很    
温暖。    
另外，我还有幸认识了visualage，现在他已经是arena 的负责人了吧。记得他    
和OpenGL 在Room 1 的Challenge 阶段通过大声叫中文（在国外，这是最好的密码）    
告诉我tomek 的900 是错的，可惜我没有听见。    
TCCC2006 对于中国来说是不小的收获，中国选手占领了Dev 比赛，PE 获得    
“浙江大学建校100 年来第一个TCCC 冠军”，magicpig 和zjq 分获Dev 和Design    
的亚军，也就是说中国包揽了所有亚军。在比赛之余，我很高兴认识了众多    
TopCoder 的朋友。    
Petr 在决赛中表现了非常良好的状态，TCCC 的夺冠标志着Petr 收获了2006    
年的大满贯。Ying 也采用了很合理的策略，只可惜他的赌博由于运气差一些惜败。    
我采用了比较保守的策略，在所有决赛选手中排名第2，这也是我在TopCoder 的    
现场赛事中的最高名次了。    
TCCC2006 我很感谢家人的关心，父母凌晨很早起床查看我的比赛结果，而    
uncle 还特地赶来现场为我加油。这几年的TopCoder 现场比赛的赞助商列表里都能    
找到American Online(AOL)的身影，TCCC2006 是AOL 唯一一次进行了3 个小时左    
右的全程直播，父母和uncle 都在网络上观看了现场的影像直播。    
TCCC2006 我神奇地保持了100%的正确率，我个人认为TopCoder 现场比赛对    
正确率提出了更高的要求，我们不必太在意Coding 阶段的那些高分，只要自己的    
程序是正确的，就是成功的。    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作个    
回顾。首先是GCJ2006 的回忆。    
Google Code Jam 2006    
一波三折：    
Google Code Jam 2006 是我第一次到美国参加现场的程序设计比赛。Google    
Code Jam 2006 的比赛地点设在了纽约，这次纽约之行之前的签证出了不小的问题，    
这里非常感谢大家对我们的关心，特别感谢吴总（wyy）和鲁小石的帮助，使我最    
终踏上纽约之旅。    
从北京到纽约的飞行时间是13 个半小时，由于是第一次做超过8 小时的飞机，    
没有什么必要的经验和准备，路途非常疲劳。一到宾馆就睡了，结果由于手机铃声    
的时间使用的是东方时间，差了12 个小时，一觉把所有事情连晚饭一起都睡过了，    
随便吃点东西就继续睡了。之后的所有现场比赛我都养成了提前睡觉的习惯，以保    
证充足的体力。    
比赛过程：    
比赛时精神状态还算可以，但是分配了比赛房间之后发现自己和tomek 分在一    
个房间，真是很不爽；在和旁边的zhuzeyuan 抱怨的时候，发现他和Petr 一个房    
间，彼此彼此吧。    
下面就是比赛过程了，总体来说比赛过程比想象的艰苦，不过其实在System    
Test 之前的结果还是很满意的，先简单描述一下3 道题目吧。    
250 分的题目是一道平面极值问题，给定n 个点，求一条直线，使得n 个点到    
这条直线的y 方向截距总和最小。我回忆起金凯在2003 年集训队论文中报告中讲    
到的很类似的一道题目，记得一个重要结论是这条直线一定经过两个点，虽然题目    
有些不同，但是很快得到了相同的重要性质：这条直线一定经过两个点。这样很容    
易得到一个O(n3)的算法。    
500 分的题目是一道反Hash 函数问题，给定一个Hash 函数和x，求一个最小    
的非负数y 使得H(y)=x。估计了一下，单向搜索需要26^8，于是我改用双向搜索，    
这样就变成了26^4。但是实现过程比想象的复杂很多，提交了后只有280 左右了。    
其实，这题有更简单的数学方法，tomek 的程序有450+。    
1000 分的题目是涉及卷积函数和计算反函数的问题，通过转化变成线性方程    
求解问题。当时受到现场气氛的影响有些紧张，浪费了不少时间，提交之后550    
分左右。其实，当时一些原理问题都没有想清楚，不过后来和Ying（王颖）经过讨    
论验证都是正确的。    
Coding 结束之前Petr，tomek，Ying 和andrewzta 都提交了3 题，其中Petr 领    
先得比较多，我和其余3 人差距50 分以内。    
Challenge 阶段开始之后，我由于500 分题自己使用的是双向搜索的算法，没    
有注意到有些单向的搜索加模线性方程的方法其实是正确，在10 分钟以内cha 错    
了2 次。落后于上述的4 个人，排在第五。    
但是下面的5 分钟发生了戏剧性的一幕，首先是Petr 的250 被cha 了，接着    
Ying 的250 也被cha 了，这样我面临这样一个情况：tomek 领先我100+分，    
andrewzta 领先我30+分，由于我和tomek 处在一个房间，所以我做出了一个大胆    
的决定，就是challenge tomek 的1000 分题，我随机生成了一个随机大数据，在最    
后时刻提交了这个challenge，系统返回了一个令人窒息的结果：successfully    
challenge。凭借这50 分我一举超过了tomek 和andrewzta，在System Test 之前占    
据了榜首的位置。    
戏剧性的结果：    
我很有幸能够在第一次参加现场比赛时，就能够和冠军这么接近，如果System    
Test 能够全部Pass 的话，这可以认为是一场完美的比赛。    
可是，整个故事就好像是被刻意设计的一样，System Test 之后的结果使我目瞪    
口呆：首先是250 分的题目，我由于有一个地方没有及时使用double，而造成整    
数越界；然后，1000 分的题目简直是悲剧的最高境界，我在高斯消元的时候没有    
及时把一个重要变量暂存，导致影响了结果，没有想到竟然躲过了那么多大数据，    
但是不能通过System Test。最后排在50 名左右。这两个错误至今刻骨铭心。    
最终Petr 获得冠军，Ying 亚军，andrewzta 由于500 挂了排在第3。    
11 月的纽约有些冷，我随大队人马一同去了一趟帝国大厦，景色很迷人。第    
二天休息一下后与几个中国选手打了一会“找朋友”，第一次美国之行就结束了。    
总结：    
比赛结果虽然不是很理想，但是对于第一次参加世界比赛的我还算可以接受。    
也算是为今后的比赛留下一些教训吧。    
在帝国大厦上见识了大家的拍摄功底，我由于技术差没有拍到任何合适的照片。    
在比赛过程中，首次见识了liympanda 的大将风度，和panda 在一起总是笑口    
常开，他无论遇到什么情况都无所畏惧，这一点我一直在努力学习，不过一直做的    
不好。但是panda 打牌的时候就不一样了，总是喜欢偷看别人的牌，还炫耀自己    
会说广东话，被Ying 和rocking 两位广东选手狠狠鄙视了一番。    
Petr 加上之前的TCO 和之后的TCCC，拿到了2006 年的大满贯，可以算是历史    
性的突破吧。Tomek 有些可惜，比完了还问我怎么cha 他1000 分的，呵呵。    
其实这次比赛Ying 挺可惜的，其实Petr 的发挥并不很好，如果Ying 运气再好    
一些的话，历史从那时就要重写了。不过Ying 还是体现了他超强的数学功底，让    
人佩服。另外，来自复旦的同省队友LemonTree 也获得了好成绩。    
这好像是自己最后一次和xreborner 同场竞技了（由于之后xreborner 退役了    
很长时间，忘记GCJ2008 我们又见面了，谢谢Savior 的提醒），感谢您在我高中    
时期教授了我许多编程技巧，我一直沿用至今。    
附比赛排名：    
Handle Score    
Petr 927.02    
Ying 811.21    
andrewzta 761.56    
halyavin 732.46    
tomek 677.55    
tomekkulczynski 634.69    
pashka 590.05    
asaveljevs 579.60    
ainu7 552.23    
misof 537.19    
Egor 534.19    
xOberon 517.65    
reid 516.23    
bmerry 498.01    
LemonTree 497.27    
MikeMirzayanov 490.32    
PaulJefferys 481.89    
monsoon 478.60    
Andrew_Lazarev 475.39    
tsjoker 454.86    
kalinov 440.75    
pparys 440.41    
dyatlov 420.64    
Michael_Levin 419.19    
daveagp 403.39    
malcin 399.55    
kalmakka 397.15    
kedaizd 391.91    
cyfra 389.02    
Macsy 387.38    
Psyho 377.22    
mhchan 374.90    
jakubr 353.71    
overwise 330.73    
kia 283.48    
ACRush 282.62    
JongMan 261.44    
IvanRomanov 251.33    
DmitryKorolev 235.14    
Revenger 234.54    
elizarov 233.79    
evgeni 232.44    
antimatter 226.70    
CatalinT 226.15    
Jan_Kuipers 225.73    
krijgertje 225.11    
wd.h 221.28    
w_ 218.82    
zhuzeyuan 217.09    
falagar 212.75    
MegaS 210.88    
gawry 209.13    
liympanda 207.74    
hyyylr 206.37    
skatou 205.00    
Vintik 204.09    
jasonw 199.82    
darnley 199.59    
NPermyakov 199.54    
aengus 196.67    
embe 191.62    
Yarin 186.89    
NSI 185.22    
AdrianKuegel 182.40    
nicka81 181.01    
HeaDacHe 178.77    
VitalyGoldstein 178.37    
kappa 175.40    
HilbertRaum 168.29    
DmitryKlenov 168.26    
Abednego 165.51    
Rocking 164.38    
Per 163.41    
Emilian_Miron 158.22    
Aidin.Kashigar 156.94    
lukasP 156.00    
grotmol 152.34    
gevak 142.55    
nhzp339 130.61    
NauCoder 107.71    
lazyboy 98.73    
WSX 56.89    
Snail 25.00    
Masao 0.00    
blackmath 0.00    
.Invader 0.00    
Mg9H 0.00    
smsorin 0.00    
Rostislav 0.00    
nya 0.00    
lyc1977 0.00    
xreborner 0.00    
goo 0.00    
soul-net -25.00    
wintokk -25.00    
Ulan -25.00    
Bankevich -25.00    
madking -25.00    
fpmc -25.00    
Soultaker -25.00    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作个    
回顾。今天到了2007 年初的东京，回顾一下2007 世界总决赛发生的趣事吧。    
ACM-ICPC World Final 2007——Mobile Robot 东京决战    
2007 年的东京ACM-ICPC 全球总决赛在樱花盛开的3 月初拉开序幕。成立了一    
年的Mobile Robot 凭借2006 年ACM 上海赛区的冠军，代表清华参加了此次ACM    
盛会。    
记得黄金雄教授在杭州2008 时说，ACM 总决赛的实力分布由原先的美洲独霸    
逐渐转向了现在的亚欧争霸。2007 年，同样来自亚洲的上海交大具有很强的夺冠    
实力，欧洲2007 年虽然没有顶尖高手Petr 和tomek 的参与，但是ACM 传统名校    
St. Petersburg，St. Petersburg IMFO，Warsaw，Saratov，Petrozavodsk 等都派出了极    
其豪华的阵容。虽然在2000 年前后美洲队伍成绩不佳，但是近些年由于众多欧洲    
选手的加盟，美洲MIT 等顶尖名校也在总决赛中表现得非常强势。    
记得，每次世界总决赛之前，TopCoder 的论坛上都会罗列出所有参加总决赛    
的TopCoder 选 手名单。但是我不是很看重这些数据，因为在很多次与欧洲选手切    
磋之后，我发现了自己与欧洲选手相比的一个重大缺陷：我参加各类赛事以来，起    
初比赛过程中常 常受压力的影响很大，很难正常发挥自己的水平。后来情况有所    
好转，在大多数比赛中都能正常发挥自己的水平。可是，令我感到意外的是，许多    
来自西方的选手在 巨大的压力下，反而表现得极其兴奋而能超常发挥出自己的水    
平。来自西方的各队，我相信他们只要达到了兴奋的状态，都拥有获得冠军的实力。    
去年上海交大总决 赛总结中，他们也提到了自己没有发挥出应有的水平，而IMFO    
即使在比赛压力下仍然能够做出8 题，可见他们平时训练实力之强。但是我觉得    
现场比赛发挥受影响可能是少数中国选手的坏习惯，可能不适合用同样的思路分析    
欧洲的顶尖高手。    
抵达东京：    
出发的前一天晚上，我仍然熬夜参加了TopCoder 上的SRM 比赛，竟然是Petr    
出的题目。当时我与Petr 的Rating 差距很小，当时我3 道题目都交出了很高的分    
数，在System Tests 之前遥遥领先，但是500 和1000 分的题目都由于一些很小的    
粗心而失败了。我也失去了在总决赛之前超过Petr 的大好机会。结果到达日本之    
后的第二天，吃早餐的时候，我就碰到了作为教练来到东京的Petr，他一看到我就    
扯前天比赛的事情，汗。现在回想起来，那场SRM 对我的总决赛之旅确实有不小    
的负面影响。    
抵达东京之后才发现，所有队伍中，只有我们选择了与所有志愿者衣服颜色    
相同的清华校色紫色，开幕式过程中，许多队伍都把我们当成志愿者了。    
练习赛前一天的晚会很丰盛，大多食物都是中国风格的，水果也非常好吃。    
晚会期间，我见到了众多大陆学校的队伍，当年大陆至少有15 支队伍参加总决赛，    
随处可以感觉到说着国语的选手。同时还见到了许多TCCC 上出现过的面孔，随后    
发现ardiankp 也来参加了，我们还聊起了ACM 在新加坡（ardiankp 是代表南洋理    
工大学参加的）的情况。类似总决赛这样的比赛，我觉得选手之间的交流则更重要    
了，因为每次总决赛都会集结众多熟悉的ID 但陌生的面孔。晚一些之后，我们与    
北京大学的T2 一起打牌，队友geworm 和wd.h 都抽签到了另一方，他们的牌太猛    
了，在加上我和李文新老师的牌都不好，结果我们惨败。    
从正式比赛的前一天的中午开始，主办方组织我们游玩当地的Disney 乐园。    
日本3 月的景色很美，当地人也很热情，唯一的缺点就是无论用日语还是日式英    
语都很难交流。我们在Disney 乐园中主要以观看表演为主，没有参与过多的活动。    
东京到了晚上有些冷，我嘴唇都有些结冰了，可是发现路上许多日本女高中生还穿    
着裙子，仰慕。    
正式比赛：    
总决赛的队伍是按照学校的音序排座位的，练习赛时我们发现自己坐在来自    
荷兰的上届亚军Twente 大学旁边，刚打招呼就发现他们3 人的最低身高也有190，    
据说荷兰女子的平均身高也有180 以上，似乎觉得自己是从小人国来的。    
练习赛过程中，我已经丝毫感受不到娱乐的气息了，现场的紧张气氛已经笼    
罩了我们全队。所有队伍都在抓紧一分一秒熟悉比赛环境，赛场中敲击键盘的声音    
已经完全覆盖了观众鼓掌的声音。比赛中使用的PC2 提交系统比想象得稳定，我们    
努力尝试各种功能以熟悉机子上的编程环境。东京的总决赛使用了一个形状奇特的    
键盘，由于当时早已养成了自带键盘的习惯，这次总决赛中奇形怪状的键盘对我编    
程的速度影响非常大。    
总决赛正式比赛在第二天9 点左右开始，Bill 想尽各种办法活跃气氛，不过比    
赛开始前几分钟现场还是静得可怕，比赛开始5 分钟之后，现场就被键盘声笼罩    
直到结束。我们回顾一下比赛的过程吧，底纹的文字是我比赛后写下的总结：    
这次World Final 的题目又基本由编程题组成，可能是由于比赛时不够兴奋，    
比赛全程都非常不顺利。    
大概从2003 年开始，世界总决赛的题目风格已经完全倒向以编程题为主的特    
点，对此我们早有准备。不过由于时差问题，还有几天前SRM 比赛由于错两题导    
致Rating 跌停对我信心的影响，使我比赛中一直不是很兴奋。不过比赛过程中，    
我们仍然坚定的采用前面提到过的常用组队模式：    
(1) geworm 全程负责读题，思考算法和出数据；    
(2) wd.h 和我在比赛前2 个小时一起攻简单的题目；    
(3) 2 小时后wd.h 就开始死磕难题，我主写程序一直到3 个半小时左右，结    
合wd.h 对难题的把握，大家开始合攻难题。    
25 分钟：Problem A，简单地枚举。可是我生物没有学好，没有考虑父母基因    
的顺序问题，错了一次。    
比赛开始时，正常情况我会从B-I 中间寻找容易上手的题目。可是由于有些紧    
张，直到geworm 给我翻译A 题目内容时，我还没有读懂任何题目，这种情况很少    
发生。    
题目A 的描述，需要一些必要的生物知识帮助理解，可是这些东西我早已忘    
记。geworm 花了不少时间帮助我理解这题，我还是由于没有考虑父母基因的顺序    
WA 了一次。不过改过来之后，我们竟然是所有队伍中第一个通过A 题的，可见当    
时很多队伍也没有完全放开。    
43 分钟：Problem B，最长上升子序列。开始算法没有想好，莫名其妙地错了    
一次。    
如果说题A 的WA 是生物问题，那B 的WA 简直就是莫名其妙。B 就是最长上    
升子序列问题，好像刚开始写时我和wd.h 都没有想清楚，写了一个神鬼莫测的程    
序，WA 一次之后才改成正确算法。可是当时我们都没有想到的，总决赛中我们队    
伍莫名其妙的WA 噩梦才刚刚开始。    
97 分钟：Problem G，枚举+模拟。这是很扯淡的一题，题目很容易看错，我    
们由于看错题目错了两次，等看到Twente 大学过了之后才重读题目，找到了正确    
的理解，浪费了大量的时间。    
G 的题目描述确实不是很清楚，许多队伍都发生了理解错误，我们也不例外。    
不过第2 次提交错误就不能理解了，当时也不知道出于什么原因又提交了第二次，    
难道是想先抢一个提交冠军吗？当时我们确实受到了开局不顺利的影响，这样做在    
罚时本身就落后的情况更是下雪上加霜。    
146 分钟：Problem F，BFS。其实这题是我发挥编程能力的机会，但是我开始    
用了一个很奇怪的搜索方法，错了一次才改用BFS 过了。    
在G 题迷茫而放弃之后，我又尝试实现了F。F 的第一次WA 是我们Final 之行    
的第三次“莫名其妙”了，我也不知道自己用了什么一种奇怪的搜索方法竟然过了    
样例，还马上提交了，面对这种情况我有些着急，表现得很不冷静。好在geworm    
及时提醒，我马上改成BFS 过了。在这期间，wd.h 已经实现出了I 题，并提交了一    
次，结果是WA。    
178 分钟：Problem C，排序+枚举。这题有一个阴险的地方，就是theta=0 的    
情况，还好我们考虑到了，这也是我们唯一一次AC 的题目了。    
C 题的算法其实非常清楚，阴险的情况我们也考虑到了，我终于没有再搞笑一    
次，这也是我们唯一一次AC 的题目了。从通过C 的时刻讲，我们的形式还是很有    
利的，因为难度很大的I 我们已经实现得差不多了。    
224 分钟：Problem D，数学题。这题本是一道很简单的数学题目，但是不知    
出题人怎么想的，搞了一些没有任何意义的东西，真是这次题目的一大败笔。我们    
开始由于没有注意三点共线的情况错了3-4 次，然后由于int64 越界又错了3-4 次，    
最后错了7 次才AC。这题一共浪费了1 个多小时。    
在BGF 各一次奇怪的WA 之后，我们又完全陷在了D 题的陷阱之中，如果顺    
利的话D 题只需要15 分钟就可以写完，可是我们忘记考虑了D 题中很多的阴险情    
况，拖延了1 个多小时，贡献了7 个莫名其妙的WA。可是，当时我并没有想到，    
这已经是我AC 的最后一道题目了。    
227 分钟：Problem I，数学+模拟。这题是Jelly 写的，有很多特殊情况。    
平心而论，我在总决赛上的状态不是很好，编程速度受到影响，而且有10 次    
以上的错误提交。最后我们7 题的罚时高达1200 多，而上海赛区同样7 题的罚时    
只有700 多，从这一点上也可以看出当时实在不在状态。不过，wd.h 很好地执行    
了我们预定的组队模式，顺利完成了拖后中卫的角色。在我通过D 题之后，他改    
正了I 程序中的最后一个bug。I 题最终也只有我们和华沙两支队伍通过，可是说    
是我们最终能够获得亚军的杀手锏。记得在颁奖仪式之前，基本上所有选手见到我    
都问I 怎么做，我都统一回答：是胡伟栋做的。    
我们依靠I 题的AC 首次排在了榜首。比赛进行了227 分钟，能够在200 分钟    
之后获得领跑的机会，我首次看到了夺冠的希望，上海和西安赛区的欢呼场面一次    
又一次从我眼前闪过。当时只有华沙大学通过6 题，其他队伍都还不超过5 题。    
可是幸福只持续了短暂的3 分钟，我们由于罚时太多而被华沙反超，华沙大    
学通过第7 题时华沙队员的反应几乎疯狂，ICPC 的工作人员也用照片记录了这一    
时刻。    
Problem E，我们的算法应该是正确的：二分答案+最短路。但是不知程序犯了    
什么错误，没有AC。    
Problem H，很复杂的几何题目，我们的算法是：扫描。但是不知程序又哪里    
写错了，结果是WA，不是TLE。    
虽然在接下来的73 分钟时间内我们没有再过题，不过我们仍然拚杀到了最后    
一刻，拼尽全力而无怨无悔。无论是E 还是H，我们都想出了正确的算法，并且成    
功写完了程序，但是Judge 给出的结果一直是WA。我们不断测试数据，并修正了    
一些bug，但仍然不能通过第8 题。在这种情况下的稳定过题能力我们确实特别没    
有训练过，华沙能够通过8 题的超强实力确实很让人敬佩。比赛刚结束时，Petr 还    
特地赶来问我们有没有通过第8 题，ICPC 的工作人员碰巧留下了照片。    
当时我很希望能够借他的运气得到一个Yes，不过PC2 还是不断返回WA 直到    
最后。    
后来，E 题就成了我写计算几何题目的一个巨大的心理障碍，直到2 个月前在    
Proxima 的一次训练中，在队友的支持下，我终于成功通过了一个更强版本的E 题    
（题目在UVA 上，题号是11425，这题至今2009.1 也还只有我和东京冠军队的    
marek 通过）。    
Problem J，这是一道很复杂的算法题目，现在我还不能证明算法的正确性。    
更重要的是这题很容易实现一些看似正确的算法，可能没有做这题是我们这次比赛    
的唯一成功之处。    
I 的算法大致如下：    
(1) X_i = the mininum cut between V_i and V_0.    
(2) while (the graph is not empty)    
{    
(3) m = min(X_i).    
(4) remove all nodes V_i whose X_i=m.    
(5) let X_i = min( X_i , m+ the mininum cut between V_i and V_0 ).    
}    
(6) return X_1.    
这里提一个公开的秘密，最后显示华沙大学的结果时，他们成功通过了E 题，    
可是比赛过程中，我们并没有看到他们挂起蓝色的气球，不知道来自浙江大学或者    
中山大学的选手能不能仔细回忆一下，当时你们应该坐在他们旁边。    
颁奖：    
最终，华沙大学以通过8 题的成绩获得冠军，Mobile Robot 通过7 题总用时    
1200 分钟获得亚军。整场比赛，我们克服了开局的种种不利因素，成为全场第一    
支通过7 题的队伍，亚军也是一个非常可喜的成绩了。由于华沙大学不来自亚洲，    
我们同时也获得了亚洲冠军。    
颁奖仪式之后的表演很精彩，印象最深的要数那位“神偷”了，他在观众面    
前不断施展“妙手空空”，观众掌声不断。记得表演结束后大家等电梯时，那位演    
员从我们身边走过，我们都连忙确认自己的钱包和手机。ACM-ICPC 东京总决赛在    
一片片掌声中落下帷幕。    
总结：    
ACM-ICPC 总决赛结束后，Mobile Robot 又恢复了平静。Mobile Robot 成立以来    
共获得了两个分区赛冠军和一个总决赛亚军，从那之后Mobile Robot 就宣布解散    
了，也许唯一的遗憾就是没能获得一个真正的世界冠军。赛后，黄金雄教授也来向    
我们祝贺，从他的言语中，我们也感受到了一丝挥之不去的遗憾。    
东京总决赛的几天里，我有机会结识了许多国内外朋友，也是这次日本之行    
的一大收获。同时也感谢众多ACM 选手一年来对我们的关心和支持，当时bbs.pku    
上留下了一个很长的帖子，让我永生难忘。    
在现场比赛中，我数次与欧洲选手直接交手，对他们的特点有一定的了解：    
(1) 欧洲选手的编程能力很强，很适应总决赛现有的题目风格。有些欧洲选    
手在notepad 里写程序，然后直接提交的事迹绝非传说。    
(2) 欧洲选手对于算法的灵活运用能力强，但是对于一些比较深的算法了解    
不多。例如此次总决赛的J 题。    
(3) 许多欧洲选手的现场抗压能力很强，即使在最后时刻仍然可以发挥出自    
己的水平。    
在总结过复旦和Srbga 出题的风格之后，总结一下我理解的总决赛题目风格吧：    
(1) Srbga 大哥出的题目和世界总决赛的题目风格近似，题目对编程能力提出    
了极高的要求。相比之下大多数题目对算法的要求不高。    
(2) 总决赛题目对算法的考察范围非常广，但是对于某特殊的算法要求不高。    
(3) 总决赛题目的时间限制很宽，出题人很提倡一题多解。而且数据没有想    
象得苛刻，随机算法有用武之地。    
东京的总决赛已经结束快2 年，今年寒假结束之后，我又要准备踏上总决赛    
征程了，希望这次我们Proxima 能做的更好，将总决赛名次提高一位。    
附Final2007 排名    
Rank Name Solved Time    
1 Warsaw University 8 1405    
2 Tsinghua University 7 1200    
3 St. Petersburg University of IT, Mechanics and Optics 6 866    
4 Massachusetts Institute of Technology 6 866    
5 Novosibirsk State University 6 868    
6 Saratov State University 6 957    
7 Twente University 6 1011    
8 Shanghai Jiao Tong University 6 1026    
9 University of Waterloo 6 1103    
10 Moscow State University 6 1192    
11 University of Auckland 6 1210    
12 California Institute of Technology 6 1241    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作个回    
顾。最后是2008 年的杭州复出。    
2008 年ACM-ICPC——杭州复出    
2006 年ACM-ICPC 总决赛结束后，Mobile Robot 就宣布解散了，也许唯一的遗    
憾就是没能获得一个真正的世界冠军。宣布退役ACM 之后，我并没有完全与ACM    
绝缘，每次TopCoder 大赛之前 还常常做一些ACM 比赛调整状态。记得08 年初，    
我也全程观看了总决赛，不过没有想过复出。    
杭州复出：    
一 切事情要从一个zhuzeyuan 的电话说起，时间是11 月8 日晚上10 点左右，    
当时我正在参加UVA 在线比赛而为GCJ2008 作准备。 zhuzeyuan 在电话里首先告    
知我Loner 车祸的事情，好在现在Loner 已经痊愈了，当时确实很担心。随后，    
zhuzeyuan 向我介绍了 2008 年ACM 比赛的进行情况，当时北京和哈尔滨赛区已经    
结束。然后，邀请我加入Proxima 参加杭州赛区的比赛。我想当时答应的原因主要    
有3 个：    
(1) 我 个人很喜欢Coding，虽然退出ACM 已经快两年了，但是还经常参加个    
人比赛。刚刚结束的GCJ2008 中国区半决赛，出人意料的夺冠增强了我的信心。    
另外，ACM 这样长达5 个小时的团队比赛造就了很特别的环境，赛场上的气氛和    
激情是做裁判教练或者参加个人比赛中无法体会到的。    
(2) 3 年前的2005 ACM 杭州赛区，我留下了我大学生活中的一大遗憾。对于杭    
州2005 的惨败，我一直想寻找机会从那个跌倒的地方爬起来，彻底摆脱紫金港校    
区留下的阴影。    
(3) 其实还有一个原因就是我家在杭州，而且在本科期间我也曾经到杭州电子    
科技大学做过关于ACM 的报告，lcy 老师的热情给我留下了深刻的印象。    
对于Loner 的车祸，我也觉得非常意外。这也是对于我们常年在校园骑自行车里    
横冲直撞的警示。Loner 现在能够恢复得这么好，我们都很高兴，祝你明年ACM    
好运。    
加入Proxima 的手续很顺利，教练邬老师对我复出想法的回答简单扼要：研一    
学生可以参加ACM 比赛。    
Proxima 的另外两名队友分别是zhuzeyuan 和zhouyuan（周源），我加入    
Proxima 之后，新Proxima 先后进行了3 次训练比赛，随后就出发到杭州电子科技    
大学参加2008 年ACM 杭州赛区的比赛了。    
当 时，我通过许多网上资料和zhuzeyuan 的描述了解了当时清华的战绩。到    
杭州赛区之前，清华的What’s Up 和IronGods 已经分别获得了哈尔滨和北京赛区的    
冠军。其中IronGods 还获得了哈尔滨赛区的亚军，What’s Up 则一起来到杭州参加    
比赛。Proxima 在杭州赛区之前已经参加了北京赛区的比赛，成绩是第二名。就当    
时的形势讲，我们没有资格考虑太多事情，如果想 保留悬念就必须获得杭州赛区    
的冠军。    
杭州赛区现场赛：    
在杭州赛区练习赛那天的上午，我们抓紧一切时间进行了模拟训练，选择的    
题目是NEERC 的题目。题目难度有些大，我们做满整整5 小时，直到12 点50 才    
急忙去吃午饭。结果很晚才到达比赛场地，到时候练习赛已经开始很久了。希望我    
们的迟到没有影响旁边队熟悉比赛坏境。    
杭电赛场的环境很好，在赛场里我找回了2006 年上海赛区的感觉。队伍之间    
的空间很宽敞，电脑桌也很大，足以让3 个人在上面一起推导公式。马上就见到    
了lcy 老师，不过他带来了一个不太好的消息——不允许自带键盘。好在杭电提供    
的键盘很标准，对我们影响不大。    
正式比赛在第二天早上9 点开始，回顾一下比赛的过程吧：    
在Proxima 队中，比赛开始时，仍然由我准备编程环境，然后从中间开始读题。    
我马上发现了D 是一道看似简单的题目，并且也注意到了这句话：    
WARNING: a naive algorithm might not be sufficient to solve this problem.    
但是没有想到的是BFS 算法也算是naive algorithm，我交出了全场第一个提交，    
结果是理所当然的TLE。不过那句WARNING 稍微有些飘逸。    
zhuzeyuan 发现A 是简单题目，于是我马上写A。    
19 分钟，A：判断两张图的修改距离。枚举全排列，统计即可。    
A 是最简单的题目，由于开始D 的耽搁，我们大概是全场第4 个出题的队伍。    
接着，zhouyuan 发现J 也很简单，于是我转向J。    
28 分钟，J：允许删点的并查集问题。通过添加新点的方法实现删点。    
过了J 之后，排名暂时上升到第一位。随后，zhuzeyuan 发现没有新题可写，    
于是就开始写C，过程中，我和zhouyuan 发现G 比较简单，于是插空写G。    
50 分钟，G：简单图论问题。开始删点判断错误造成WA 了一次。    
59 分钟，C：高精度计算和素数判定问题。这题是zhuzeyuan 写的。    
不到一个小时就通过了4 题，Proxima 获得了一个很好的开局。对于杭州赛区    
难度的题目，能够在第一个小时通过4 题已经很顺利了。对于许多分区赛中会出    
现更多的简单题目的情况，有时能够做到一小时5 题。但是一小时6 题实在太难    
了，记得我们在一次训练比赛中做到了一小时6 题，已经是我们的能力极限了。    
接下来我实现了一下B，可是由于发生了理解错误，计算结果与题目要求计算    
的结果直接存在重复排列问题，只好把程序放在一边。    
随后，zhuzeyuan 开始实现H，提交之后我开始写F。    
95 分钟，H：计算几何，如果使用O(n2)的算法需要注意常数不易太大。    
105 分钟，F：自动机判断相等问题，通过计算差乘的方法能够在    
O(n2*|Sigma|)内解决    
H 的提交等了很久，H 的Yes 出来后不久我就写完了F，提交之后也Yes 了。    
大概在2 个小时左右我们做出了6 题，其实如果不在B 上浪费时间能够更早一些。    
在2008 杭州赛区，我们又一次获得了6-4 的领先优势。    
下面我们面临一个比较困难的状况，E 和I 看似都比较复杂，但明白题意的B    
和D 都没有想出算法。2008 年杭州赛区的题目中，基本没有中等难度的题目，所    
以我们通过6 题之后就直接进入了比赛后期。当时我们分了一下工，我决定死磕D    
题，zhouyuan 负责推B 题的公式。zhuzeyuan 尝试新题目E 或者I。    
我的工作进行很不顺利，先实现了一个普通的A算法，由于优化得不好还是    
TLE。现在回想起来，D 题标准A算法中使用的那个优化还是挺巧妙的，至少很有    
艺术感。我放弃A算法之后，zhouyuan 似乎已经推好了B 题的公式，开始帮助我    
实现D 题。    
163 分钟，D：状态最短路径问题，通过A算法加一些优化可以轻松通过。    
zhouyuan 提出了一个很重要的优化方法，先通过解方程的方法判断是否有解，    
在确认有解的情况下使用双向广度优先搜索，程序写好之后又TLE 了。不过我觉得    
运行时间已经差不多了。于是，我使用了卡节点的方法，终于在第5 次提交通过    
了D。D 题我们用了大概一个小时左右。这时What’s Up 早已通过5 题，不过由于    
他们卡在H 题上，我们仍然以7-5 领先。    
zhuzeyuan 确认E 和I 比较复杂之后，我们开始合攻B 题。zhouyuan 其实受到    
了我原先错误算法的误导，他得到一些公式来计算繁衍函数，通过繁衍以及原先程    
序的结果得到正确结果。不过，从当时的形式看，这样也是很不错的选择。    
程序很快就写好了，提交之后又是奇怪的TLE。B 题的TLE 和D 的TLE 本质完    
全不同，B 题我们算法的复杂度是O(n4)的，对于n<=20 的数据范围，时间上应该    
没有问题。于是，我生成了100 组测试数据，发现总共只需要1 秒左右。    
在B 题的这一点上，我觉得命题人做的很不合理，虽然此题存在O(n3)的算法，    
但是既然把范围出到20，就应该允许O(n4)的算法通过。可是命题人一共叠出了    
6000 组测试数据，使得我们的程序超时了。而且在Clarify 中的回答是1000 多组，    
我们优化程序之后还是一直TLE，当时我们怎么会想到是6000 多。至少这里的范    
围20 极具误导性。幸好，zhuzeyuan 及时想出了一个解决方法——打表。由于对    
程序没有信心，打表的15 分钟时间内我们3 人都只得通过手工计算简单数据来确    
认程序的正确性。    
236 分钟，B：比较复杂的动态规划，需要考虑4 种情况。    
打完表之后提交终于得到了第8 个Yes，时间是236 分钟，距离封版只有4 分    
钟。由于6000 组的阴险数据，我们从第一次提交B 题到通过B 整整用了50 分钟，    
而且是3 个人一直在一起做。    
封版时，我们仍保持了8-6 的领先优势。但是接下来，我们犯下了杭州2008    
最大的错误，如果类似的错误在总决赛中出现，我们将很可能失去领先位置。当时    
我们没有看到港大挂起E 的气球，于是在E 和I 中选择了I，结果深深地陷在了I 的    
无底洞中，直到结束都不能自拔。    
I：模拟题，需要考虑的情况比较多。    
E：计算几何。计算半平面的交。    
现在回想起来，E 题的难度远没有I 题大，我们错误估计了I 的难度。非常敬    
佩赛场上通过E 题的港大和I 题的湖南大学，你们不愧为射雕英雄。    
清华2008 战况：    
2008 年，清华延续自己在ACM 大陆赛区中的霸主地位， 4 支不同的队伍获得    
了创纪录的4 个不同赛区的冠军。分别是：    
1. What’s Up——哈尔滨赛区冠军    
2. IronGods——北京赛区冠军    
3. Proxima——杭州赛区冠军    
4. ZCS——成都赛区冠军    
从ACM 的规则上讲4 支队伍都获得了进军总决赛的资格，清华总决赛队伍的    
选拔过程在成都赛区结束的第二天就开始了。    
从我的角度描述另3 支队伍的情况吧：    
What’s Up 是清华第一个获得冠军的队伍，杭州赛区的过程中，他们以amber    
主写程序的模式进行，在比赛开始阶段体现出了很强的冲击力，不过卡住H 后的    
慌乱略显出组队模式的缺陷。虽然他们在杭州赛区之后就选择放弃了总决赛资格的    
争夺，但是我们都深知他们的实力。后来What’s Up 的成员担任了PK 比赛的裁判    
工作。    
ZCS 由刚进入清华学习的三名大一学生组成，成员是yuhch123，Cheryl 和    
ScaleRhyme。我参加Proxima 之后没有和ZCS 交过手，不过在Ural 和SGU 上比赛    
时看到过ZCS 的身影。在杭州赛区之后，ZCS 在成都赛区创造了7/7(7 提交7 通过)    
奇迹，不过和北京赛区相似的是后期略显经验不足。随后，ZCS 没有参加校内PK    
赛。    
IronGods 的组成是OpenGL，ahyangyi 和ghy。在IronGods 成立之初，我一直    
很看好这支队伍。哈尔滨赛区结束后，记得ahyangyi 还来和我抱怨比赛中的失误，    
那道高精度题目确实有些过于复杂（呵呵，不过至少数据没有错误）。北京赛区的    
情况，我是事后听dzx 介绍的，IronGods 依靠最后一小时的稳定发挥，通过3 题，    
一举压倒Proxima，Carriage 和ZCS 获得冠军。可是几天后，我惊奇的发现自己需    
要面对强大的IronGods 了。    
IronGods 的组合与新Proxima 惊人得相似，IronGods 的OpenGL 与ahyangyi 还    
有我和zhuzeyuan 都是TopCoder 上的Target（中国一共有7 个Target，另外3 个    
是前辈haha，lympanda 和ZCS 队中的yuhch123，看好zhoujie 成为第8 个，加油    
呀！），他们的编程能力与我和zhuzeyuan 不相上下。从TopCoder 的成绩上看，    
我们两人的速度略快。    
另一名队员ghy 和zhouyuan 都很擅长思考算法，ghy 结束OI 时间比较短，状    
态保持得很好，zhouyuan 对于深入的算法了解比较扎实（北京的A 很赞呀！）。    
从配合上说，IronGods 组队时间长，配合方面比我们默契许多。我们重组后    
虽然也进行了一些训练，不过在比赛中普遍交流偏少，特别是我和zhouyuan 的交    
流，在后几场比赛中才有些成功的配合。    
不过从稳定性角度看，我们稍占上风，TopCoder 上的Volatility 值至少可以说    
明一些。而且ACM 比赛时间长达5 小时，稳定性的要求应该比TopCoder 还高一些。    
清华校内PK：    
后来，zhuzeyuan 代表Proxima 与IronGods 协商之后，大家决定采用三局两胜    
的赛制，并定下了3 场比赛的时间和题目安排。    
关于总决赛队伍的选拔，我个人非常不赞成直接指定，可能与我的一些经历    
有关吧。已经进入研究生学习的我，对参加总决赛已经没有两三年前的激情了。不    
过我个人的观点是，如果学校指定，我对于4 种结果都可以接受；如果进行PK 选    
拔，赛场上我一定拼尽全力。    
两场PK 过程中，我们都在bbs.pku 上发布了现场的即时排名情况。由于清华    
ACM 团队有严格规定要求对两次PK 中使用的题目保密，我这里就只留下了比赛的    
大致过程。    
第一场PK，时间和吉隆坡赛区完全相同，过程大致如下：    
Proxima 启动比较快，到2 小时左右就获得了5:2 的领先优势。    
题F 是这场比赛中我们最大的失误，F 浪费了很多时间，而且最后都没有过。    
IronGods 利用Proxima 卡住F 的时机连追4 题，以6:5 反超。    
发现IronGods 反超之后，我又尝试了几次F 题，但还是不能通过。比赛还有    
70 分钟结束，而且我们手上并没有其他题目。zhuzeyuan 在关键时候毅然决定开始    
写J，记得他说的一句话是“没有时间了，我必须开始写了”，当时形势不容乐观。    
好在J 成功1Y，士气大振。    
Proxima 随后连过两题重新占据7:6 优势。    
最后，IronGods 追成7:7 平，比赛又打得难解难分。    
IronGods 最后时刻也还有机会，我们又一次目睹了IronGods 的绝地反击实力，    
可能他们最后做H 的选择值得商榷。    
第一场PK 过程中两支队都有明显失误的时期，我们由于失误在中期，所以罚    
时较少。最后依靠罚时险胜，在PK 中占得先机。    
第二场PK，时间设在12 月25 日的晚上进行，题目编号从A 到L，共有12 题    
之多。第二场PK 比前一场进行得更激烈，过程中两支队伍都长时间保持了很好的    
状态，比赛过程中多次交换领先位置：    
开局Proxima 起步略快，65 分钟就通过了5 题BDEFK。    
开局看似顺利，不过我们都明白：真真的比拼还没有开始。    
Proxima 卡在了H 和C 上，IronGods 通过了BCDFK 追成5:5 平，罚时Proxima    
领先。    
IronGods 通过了G，首次反超6:5。    
Proxima 经过rejudge 通过了H，出现了6:6 平，罚时Proxima 领先。    
Proxima 第10 次提交才通过了C，再次获得题数领先7 :6。    
如果输掉了这次PK，题C 则是最大的败笔。    
IronGods 通过了J，追成7:7 平，IronGods 在罚时上领先。    
此时的罚时落后就是Proxima 在C 题上出错9 次的恶果。    
Proxima 第4 次提交才通过G，以8:7 反超，但罚时还是很大。    
IronGods 通过了H，又追成8:8 平，利用罚时IronGods 再次获得领先。    
这已经是第6 次出现平分了。这时还不到3 个小时，校内PK 赛的题目难度并    
不在2008 杭州赛区的难度之下，3 小时的8:8 的高比分平局是现场比赛中很难看    
到的。而在高比分平局中罚时也是很重要的，此时IronGods 占据明显的优势。    
Proxima 经过rejudge 通过了I，再次超出9:8。    
Proxima 通过了J，优势扩大到10:8。    
记得题J 的第一次提交开始的返回结果是“Other-Contact Staff”，看到这个回    
复之后zhuzeyuan 马上跑到Judge 室，在被工作人员挡住之后，zhuzeyuan 很奇怪    
地问道“难道不是你们让我来Contact 的吗？”，囧死了。不过很快就rejudge 成    
Yes 了，题J 的通过也从一定意义上逆转了罚时的不利，IronGods 如果想翻盘就必    
须在最后一小时重新上演北京赛区封版通过3 题一幕。    
Proxima 通过了A，优势扩大到11:8。    
记得最后提交A 题的时候，我紧张得手都有些发抖了。当时只剩下25 分钟，    
IronGods 还没有开始写A 和L 两题，所以在最后的时间里他们已经不可能通过余下    
的4 题了。A 题的Yes 也就成为了这场PK 的胜利宣言。    
IronGods 最后时刻通过了I，最终题数为11:9。    
此次校内PK 的激烈程度决不亚于2006 年上海赛区，能够最终赢得这场PK 使    
得我们更有自信地站在总决赛的现场。    
首先感谢关心我们的同学，记得第一场PK 当天正在举行吉隆坡赛区比赛，    
bbs.pku 上还是出现了如此多的帖子为我们双方加油。第二场PK 结束时已经是晚上    
11 点，我们手机还不断收到祝贺短信。    
向IronGods 三位天王致敬，在PK 过程中只需略微的变化，出现在斯德哥尔摩    
的就很可能是你们。棋逢对手是我ACM 生涯的一大幸事，相信你们明年一定能够    
做得更好。    
我想这是清华第一次使用公开的现场PK 方式来选拔总决赛队伍，个人觉得PK    
的方式除了公平之外还有许多优点。首先，PK 方式可以使得各队伍能够更从容地    
选择和准备不同的分区赛赛区，有效提高学校的总体成绩。其次，通过PK 的过程，    
可以加强各队之间的交流，队伍各方面水平能够得到全面提高。真是一举两得。    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作个回顾，包括    
今天一共10 篇。接下来的重要比赛就是世界总决赛了，纵观世界总决赛各队，虽然形势不容    
乐观，但我们一定会拼尽全力。    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作个回顾。    
回顾GCJ2006，ACM2005，TCCC2006 和ACM2006 之后，今天简要回顾一下国内个    
人赛场吧。    
国内个人赛场——百度之星    
国内个人赛场中最重要的比赛要数每年一度的百度程序设计大赛，到今年为    
止已经举办了4 届，每一届我都全身心地参加了比赛的全过程，百度程序设计大    
赛是中国举办的规模最大的公开程序设计比赛，其参加人数比许多世界范围的程序    
设计大赛的人数还要多得多。另外在2006 年初，Google Beijing 举行了Google    
Code Jam China 的比赛，刚刚开始参加TopCoder 的我也加入了这次GCJC 之旅。    
第一届baidu 程序设计大赛：    
最早的国内个人程序设计比赛要回忆到2005 年9 月开始的第一届百度程序设    
计大赛了，源于宿舍走廊中的海报，我以尝试的心态报名参加了第一届百度程序设    
计大赛。每一届百度程序设计大赛都由初赛，复赛和现场决赛组成。    
第一届百度程序设计大赛中，印象最深的复赛题目就是那道规模巨大的最小    
树形图问题了，100000 的数据规模吓退了不少选手，我鼓足勇气提交了一个理论    
上能够运行的程序，顺利通过了复赛进入决赛。最小树形图算法在大多图论书上就    
接在最小生成树算法后面，但是其程序量远比最小生成树大，而且用途没有最小生    
成树广泛，在大多数竞赛中很少出现。我最早接触最小树形图算法是在2003 年4    
月，当时正在复旦大学训练，记得关于这个问题和xreborner 讨论了很长时间才得    
以证明算法的正确性并实现出高效的程序。    
现场决赛于2005 年10 月底在北京举行，由于当年比赛的知名度不高，时间    
上还和GCJ 冲突，没有太多的顶尖高手参加。清华大学除我之外只有superzn（张    
宁，我们留shell 一个人参加ACM 北京赛区预赛&#1048623;），当时OpenGL 还是以高中生    
身份参加的，还有复旦大学的xreborner 和young（李阳）；中山大学的magicpig，    
Savior 和张子臻（不好意思，我不记得您的ID 了，好像杭州2008 的时候我们还说    
起此事）。我一直认为，现场比赛过程的一个重要的意义在于提供了一个老朋友重    
逢和结实新朋友的机会，选手之间的交流是比赛中最重要的组成部分之一，我很有    
幸能够在这些比赛中认识了众多牛人。    
稍微回顾一下决赛的题目吧：决赛的题目是经典的8 数码问题，给定初始状    
态和结束状态，计算最短需要的转移步数。对于分数相同的情况，按照程序的运行    
速度排名。比较容易想到的方法有：    
(1) 单向BFS：最坏情况需要1s 左右。    
(2) 双向BFS：如果先判断无解情况，这是xreborner 使用的方法，平均情况    
大概0.002 秒左右。    
(3) A或者IDA：先判断无解情况，然后通过距离启发函数搜索。平均情况    
大概0.002 秒左右。我当时使用了A的方法，但许多地方的实现不是很合    
理。    
(4) 常量表，这是最有挑战的方法，因为决赛的提交量限制在64K 以内。    
现场比赛中，(2)和(3)的使用人数比较多，速度相差无几，选手之间比拼的是    
各种细节和常数的处理。后来，我想出了一种速度非常快的方法：    
首先使用A加上“卡节点”技术，就是限制A算法搜索过程中每层的节点个    
数上限，这种算法扩展节点个数在100 左右。然后，由于上述算法的正确性不能    
保证，把所有反例打成常量，程序大概50K 左右。很容易发现，这个程序的速度    
远比比赛过程中所有程序的速度都快得多。    
最终我的程序以总时间0.022 秒获得冠军，xreborner 和Savior 以0.026 分并列    
第二名。xreborner 的程序很可惜，如果加入了无解判断，速度应该比我程序块，    
superzn 就更可惜了，superzn 的飘逸程序其实只有0.020 秒，但是有一个数据错了。    
记得颁奖之后，主持人邀请获奖选手发言，选手可以通过向前走一步选择优    
先发言。这时，我突然感觉大家把目光都聚焦到了我身上，向右一看，由于我站在    
最左边没有注意到右边的情况，可谁知其他选手都后退了一步，把我留在了看似向    
前一步的位置。    
第二届Astar-baidu 程序设计大赛：    
第二届百度程序设计大赛没有等到10 月，而是在2006 年6 月就拉开序幕。    
没有想到的是，第二届百度程序设计大赛竟然以我在一年前比赛中使用的A算法    
的名字命名，感到非常荣幸。    
记得复赛的题目非常正式，印象最深的要数xreborner 招牌式的Zuma，我推    
了两个小时公式才得到了正确的动态规划方程，实现之后还由于TLE 只有30 分    
(100 满分)。还有Ying 出的无向图最小割问题，我用网络流算法又超时了。不过最    
后一题，我的程序竟然比xreborner 优化过的标程还快，真是不容易呀。清华的舍    
友RealPlayer 在复赛中表现很兴奋，可惜由于一个很小的错误没能进入决赛。    
参加第二次百度决赛的选手中有许多熟悉的面孔，清华的同学包括shell，    
OpenGL，lympanda 还有Macsy。复旦大学也来了很多选手，其中除了LemonTree    
和Topkiller（沈毅）之外，还有我刚到复旦时见过的admin 和funny 的身影。另外    
magicpig 和flymouse 也参加了，而且magicpig 和我住一个房间，吃饭时记得他把    
桌上所有人的Dev 功底全都鄙视了一遍，可惜PE 不在场呀。比赛前还看到了    
Srbga 的身影，据他说是被邀请一起来玩的，其实稍微用小脑判断一下就知道一定    
是参与出题的，有了Srbga 的加盟，相信决赛题目绝对不会是一年前的风格了。    
第二年决赛的题目是：著名的俄罗斯方块。写程序玩一个10 列的标准2 维俄    
罗斯方块游戏。    
Srbga 设计了很有特色的记分方法和评分标准。对于记分方法，特别的地方是    
消去1 行后没有得分，而同时消去2，3，4 行的得分分别是3，6，10，记分方法    
非常鼓励一次消去多行。评分标准则更奇怪了，有50 种不同规模的数据，对于每    
组数据对所有选手的得分进行排名，前8 名的选手依次得到10，7，6，5，4，3，    
2，1 分，也就是说，是存在可能性在测试结束之后分数仍然为0 的。    
比赛过程中，我花了许多时间来分析这个奇怪的评分标准。    
对于这种评分标准，常见的策略有两大类：(1)所有数据的成绩比较平均 (2)在    
一种数据风格中特别突出呢。    
根据数据描述，50 个数据可以分为10 种不同的风格。参加比赛的总共有50    
名选手，如果所有分数是完全平均分配的话，分数是31 分，这个数字意义不大。    
但如果设想分数的80%会分配在前10 名中（根据当时选手的水平，这个假设还是    
比较合理的），这样前10 名的平均分数是124 分左右，也就是说如果想挤进前4，    
至少也要100 分以上，如果想争取冠军估计需要200 分左右。如果选择一种策略，    
使得它只在一种数据风格中特别突出，分数只有可怜的50 分，而且很可能有许多    
有同样想法的选手，所以(2)不太可取。    
在决定选择比较平衡的策略(1)的之后，需要再考虑一个问题，如果最终目标    
是150 分，那么平均分数只需要3 分，也就是说每个数据可以允许有5 名选手超    
过自己。这些必要的分析帮助我明确了努力的方向，面对这种开放性的题目，多分    
析题目的特点往往可以达到事半功倍的效果。    
还有一个重要环节是调整估价函数，机器学习其实是一个很好的策略，可惜    
我当时不会。其实当时我做的事情，本质上就是人工模拟机器学习，手工调整了1    
个半小时，眼都花了。而且我犯下了一个致命的错误，记得记分方法非常鼓励一次    
消去多行，也就是说对于平坦的数据，一次消去1-3 行的权值应该可能设置为负数，    
而我只把他们设成了0，使得程序对于平坦的数据分数不高。Macsy 就考虑到了这    
一点，只可惜一个很奇怪的技术问题（在Linux 和Windows 下的CLOCKS_PER_SEC    
参数是不一样大的，想使用卡时策略时千万不能事先把这个数字取出来设置成    
CONST）使得Macsy 没能成功。    
由于Macsy 和LemonTree（同样的技术问题）的出局，我在许多数据中得到了    
很高的分数，最后的总分达到了是255，领先了第2 名有99 分之多。其实现场的    
许多选手的程序风格相差并不大，可能我唯一多做的事情就是建立了一个博弈树，    
多搜索两层，这样比直接贪心的程序看得更远一些。后来事实也证明了，排名靠前    
的选手大多都是比较平衡的策略。记得lympanda 洋洋洒洒写了1800 多行程序，    
在其中一种数据中拿到了满分50 分。不过可惜panda 的程序平衡性稍差，总排名    
进入了前10，但最终只有三等奖。    
第二届astar-baidu 程序设计大赛，复旦大学获得了丰收。记得许多复旦的选    
手由于考试提前回到学校，颁奖仪式的时候二等奖颁奖一片空场。    
比赛的住宿条件可以用无与伦比来形容，很感谢baidu 的大方与细心。记得第    
一天晚上还有机会和Ikki 一起打沙壶球，面对球风完全对立的Ikki 玩得很开心。    
Google Code Jam China 2006    
大概是2005 年末，突然看到了名为GCJC 的比赛，而且使用的是TopCoder 的    
比赛模式，于是就报名参加了。当时估计只参加过几场TopCoder 的比赛，帐号还    
是蓝色的，GCJC 第二轮预选赛由于经验不足差一点就被淘汰了。好在有惊无险地    
进入到了北京的现场赛。    
GCJC 现场的选手中，我觉得至少认识80%吧，清华同学就有7 人：b142857，    
fuwenjie，lympanda，Macsy，zig 还有hyyylr（李老师），复旦的LemonTree 和    
TopKiller 也都来了，浙大也来了许多TopCoder 上的元老xuchuan（徐串），    
sghao126。    
记得，就在GCJC 决赛的前一天晚上，我参加了TopCoder 的SRM 比赛，第一    
次踩住了Petr，不过也消耗了太多的RP。晚上的SRM 比赛中没有人过3 题，第二    
天早上lympanda 还把我们统统鄙视了一遍。随后，b142857 还描述他Challenge 过    
程中的囧事，由于500 分题目的返回结果需要使用long long 类型，所以b142857    
看到一个人提交的程序计算过程中只使用了long 就果断Challenge 了，结果失败了    
两次之后才发现，那个人用的语言是Java。    
比赛中250 分题目，简单的概率问题。我写完就交了224 分，竟然是所有选    
手中最快的。后面的500 分，我虽然提交是最快的，不过没有考虑一种情况。打    
开1000 分题目之后网络就开始很不稳定了，时断时连，1000 分题目其实算法很清    
楚，由于网络原因提交只有600 分左右了。    
Challenge 阶段开始时，我打开了房间中lympanda 的500 分程序，发现我们两    
人的程序基本过程完全一样。又打开了一个，也一样。但是在还没有反应过来的时    
候，lympanda 的500 分程序被Challenge 了，接着我的500 分也被Challenge 了。    
然后就没有什么斗志了，在无奈中等待比赛结束。    
比赛结束之后的午饭过程中，我正好坐在Google 中国掌门人李开复旁边。午    
餐快结束时，李开复问起2 个月前的百度程序设计大赛，突然，鬼使神差地直接    
问我百度大赛的冠军是谁？这可是在Google 的老巢呀，抖死了。我当时真害怕他    
听完回答之后直接把我赶下桌:-P。    
好在我的250 分和1000 分都Pass 了，由于TopKiller 的1000 分超时了，我获    
得了第3 名。冠军xuchuan 和亚军b142857 都顺利通过了3 题。    
POJ Monthly Contest    
大概是从2004 年8 月开始，POJ 上开始举行每月一次的有奖月赛。2005 年的    
月赛中，每次都有机会同xreborner，Ying 等高手切磋技艺。从2006 年初开始，我    
已经比较熟悉了比赛的题风，连续获得了许多次比赛的冠军，并且保持了良好的个    
人比赛状态。    
记得2006 年4 月底，在POJ 的邮箱里突然发现了hawk 的信，他问我五一长    
假回家的情况。我告诉hawk 自己定在周五晚上出发。于是，第二天早上就看到比    
赛安排中：2006 年5 月份月赛安排在了周五晚上，太囧了。    
后来，POJ 上直接出现了一系列奇怪的定义，但其实结论就是我不能以正式身    
份参加月赛了。现在这些定义早已成为笑料了，但是我不参加月赛之后，仍然有    
ahyangyi 这样的选手夺走了绝大多数的冠军。    
后两届baidu 程序设计大赛：    
从第二届开始，我们习惯了在每年6 月等待astar-baidu 的开赛。2007 年最出    
乎意料的就要数CS 这个决赛题目了，我在关键的买枪环节犯了重要错误，太迷恋    
AK47 了。祝贺师兄lympanda，Macsy 还有shell，不愧是真金不怕火炼。    
第四届百度大赛我参与了预赛和复赛的命题工作，但是没有参与决赛的命题。    
决赛题目是一道关于直升机的题目，印象最深的是ahyangyi 使用了一个很有进攻    
性的策略，如果采用淘汰赛，可能就是冠军了。对我来说，通过现场比赛，有机会    
和老朋友重逢，并结识了许多新选手是我最大的幸事。    
利用假期空闲之时，将这几年GCJ，ACM，TopCoder 参加的一些重要比赛作个回顾。    
今天总结一下国际个人赛场吧。    
国际个人赛场——三大赛事    
ACM-ICPC 总决赛结束后，Mobile Robot 就宣布解散了，也许唯一的遗憾就是    
没能获得一个真正的世界冠军。宣布退役ACM 之后，我仍然连续参加了那之后的    
每一场世界范围的现场编程比赛，按照时间先后分别是：TopCoder Open(简称    
TCO)2007，TopCoder Collegiate Challenge (简称TCCC)2007，TCO2008 以及Google    
Code Jam(简称GCJ)2008。每次比赛，我都度过了一段美好快乐的时光。    
TopCoder 公司与三大赛事：    
TopCoder 公司大概在9 年前成立，成立的原因有些让人匪夷所思，据说公司    
创立者原来是另一家IT 公司的大股东，在把原来公司的股票转手之后换了一笔钱，    
开设了TopCoder 公司。然而Topcoder 和原来的IT 公司有一个重要协议，就是    
Topcoder 在创立之初的两年内不得从事软件开发的工作。于是TopCoder 在前两年    
时间内以类似竞赛的方式从事软件开发的活动。经过9 年的发展，现在TopCoder    
公司已经基本由算法竞赛转向软件开发了。    
TopCoder 公司除了在网上举办SRM 之外，每年还举办TCO 和TCCC 等现场赛    
事（当然还有TCHS，不过规模比较小，参与面也不是很大），TCO 和TCCC 分别在    
每年的6 月和11 月举行，每次大赛都能汇聚众多国际编程高手。另外，Google 公    
司从2000 年开始，先在各大洲举办名为Google Code Jam 的比赛，从2002 年开始    
也举办全球范围的Google Code Jam。于是这些年来，大家一直把TCO，TCCC 和    
GCJ 称为三大赛事。    
2007 年之前的GCJ 都是使用TopCoder 的比赛形式，Topcoder 的算法竞赛有点    
类似于IOI，ACM-ICPC 之类的竞赛，题目是同一个类型的。每次比赛三道题目，一    
般分数分配为250-500-1000，比赛分为Coding，Rest，Challenge 和System Test 四    
个阶段，时间各是75 分钟（现场比赛85 分钟），5 分钟，15 分钟（现场比赛10    
分钟）和不定。    
TopCoder 的现场比赛都由3 个阶段组成：所有选手被分为3 个组（称为    
Room1，2，3），每组分别进行半决赛，每组前2(或3)名直接晋级决赛，3-6 名晋    
级 wildcard 比赛，wildcard 比赛12 人中的前两名填补决赛的最后2(或1)个名额，    
决赛由8(或10)名选手参加。由于三大赛事的比赛形式相 差不大，每次现场决赛    
的选手中总是有许许多多熟悉的面孔。    
三大赛事的波荡起伏：    
可能细心的同学能够发现疑问，在文章最开始的一段中，我表明自己在2007    
年之后没有错过任何现场赛事，那为什么没有GCJ2007 呢？其实原因很简单，    
Google 公司在2007 年全年中只举办了面向美洲的比赛，没有举行面向全世界的公    
开赛。GCJ2007 的搁浅也使得整个2007 年只有TopCoder 公司独自举办世界大赛。    
但是，当大家以为GCJ 将在记忆中淡去的时候，GCJ2008 重新登陆，而且新的    
比赛环境与形式给选手以焕然一新的感觉。这里先谈谈自己对这种新比赛环境的看    
法吧：    
GCJ2006 仍然使用的是TopCoder 标准形式，也就是说和TCO 以及TCCC 完全    
一样，用一句话概括就是Coding-250-500-1000-Challenge-SystemTests。    
GCJ2008 比赛环境结合了ACM，TopCoder 还有IPSC(ipsc.ksp.sk)等多种比赛的    
特色。    
(1)每道题目分为Easy-Hard 两组数据，并且数据可以下载到本地，这点好像与    
IPSC 很相似，另一个与IPSC 的共同点就是，不限制选手使用的编程工具，包    
括肉眼观察或者人工搜索。    
(2)Easy 数据则和ACM 非常近似，即时提交评测，并且也设定了每次失败提交    
加4 分钟的罚时。    
(3)Hard 数据则更像TopCoder 的形式了，Hard 数据由于是统一评测，System    
Tests 可以有效    
地把悬念保留到最后一刻。    
GCJ2008 的比赛形式是一种大胆的尝试，并且也已经有了很理想的结果。    
另外，值得称赞的是，GCJ2008 中首次使用了分各大洲进行当地现场半决赛的    
赛制。使得排在前500 名的选手得以参加各大洲的半决赛，也拉近了Google 公司    
与选手之间的距离。从另一个角度来说，各大洲半决赛的方法很有效保证了决赛选    
手的水平。平心而论，TopCoder 现场比赛前的最后一轮网络淘汰赛对选手的压力    
很大，就连Petr 在2007 年都直接来了一个“滑铁卢”，连现场赛都没有进。而现    
场比赛的公平程度远超过网络赛，所以通过现场赛决定决赛选手可以一定程度上提    
高决赛选手的水平，至少我个人很赞同这种做法。    
搁浅的比赛无独有偶，可能是受到了2008 年全球经济危机的影响，TCCC2008    
也停办了。而且我们都觉得，TCCC2007 很可能是TopCoder 举行的最后一次TCCC    
了，当然TopCoder 这样做没有不合理的地方。    
TCO 则相对稳定一些，就连每年举行的地点都不变，TCO 连续3 年在著名的赌    
城Las Vegas 举行。今年应该也不会改变地点。    
三大赛事的举办，我觉得选手最大的受益就是，比赛提供了一个到美国免费    
游玩的机会。我先后去过7 次美国，其中6 次都是参加编程比赛。通过比赛的机    
会，我们得以开阔眼界，结交朋友。我个人真心希望三大赛事能够继续举行，但是    
2009 年秋天的TCCC 和GCJ 很可能同时停办，这也是一个不可回避的问题，让我们    
拭目以待吧。    
美国之旅：    
从2007 年以来的4 次现场比赛，虽然每次比赛过程中都有一些遗憾，但是现    
在回想起来都有不尽的乐趣。    
TCO2007 是我第一次到达赌城，一下飞机就看到很多赌场(CASINO)，可谁知    
TCO2007 整个比赛过程就是一场巨大的赌博。我当时由于不熟悉Texas Hold'em 的    
规则，在半决赛中搞错了Flush 和Straight 的大小关系，结果初上赌场就倾家荡产    
而被淘汰出局。TopCoder 比赛中竟然出赌博有关的题目，果然有Las Vegas 的特色    
呀。不过在赌场里，我仔细研究了许多赌博游戏的规则，然后写了几个程序计算赌    
博的期望，但是发现标准概率模型下所有游戏的期望值全是负数（其实挺显然的），    
于是，也就以娱乐为目的和lympanda 切磋了一下。    
如果说TCCC2006 的Room1 是中国的胜利，TCO2007 的Room1 则是中国的失败    
了，虽然Ying 和lympanda 都进入了wildcard，可是都由于一些小失误输掉了这次    
赌博。赛后lympanda 请我去牛排馆吃饭，后来那个牛排馆也成为每次TCO 比赛我    
们中国选手的主要聚会地点。    
TCCC2007 的小组赛还比较顺利，我轻松击败了gawry，Per，marek.cygan 获得    
小组第一挺进决赛。可是决赛中，我为了提高速度以超过Petr，再加上有些紧张，    
最后500 分和1000 分两题又都挂了，落到了第5 名。TCCC2007 地点设在了奥兰多，    
比赛结束后我们到附近的Disney Land 去玩，那里的惊险游戏比国内刺激得多，有    
些远远超过我的极限，我们一行人一直玩到深夜才返回。许多选手还一起到奥兰多    
魔术队主场观看了NBA 现场比赛，可惜最后一节成为了垃圾时间。    
TCO2008 我也依靠飘逸的1000 分题中800+分的提交闯入决赛。决赛前我还和    
visualage 聊天，夸耀自己从来没有所有题目全挂，更没有拿过负分。可是在随后    
的决赛中，这两个“梦想”就都实现了，PE 对我的评价是太紧张了。基本每次    
TopCoder 现场比赛都能见到PE，谁知他每次怀疑我某些题目的正确性的时候，我    
的程序就一定是错的，如果下次我参加决赛，您就不要再看我程序了吧（呵呵，开    
个玩笑）。    
不过在决赛Challenge 阶段的最后时刻，我从第一视角目睹了Petr 和Tomek 的    
巅峰对决。在还有15 秒钟结束时Petr 还落后Tomek 大概30 分左右，Petr 成功    
Challenge 了一个超过了Tomek，但是Tomek 利用短短的10 秒钟也提交了一个成    
功Challenge 又超了回来，谁知Petr 得到这个信息之后又提交了一个Challenge，可    
是运气稍差，如果那个数据用来Challenge 我的程序的话，Petr 就能够在最后1 秒    
再次夺回冠军的位置。能够到最后一秒还能有机会成功翻盘的一定是神一般的人物，    
能够把神一般的人物逼到最后一秒的也一定是神一般的人物，两个神一般的人物你    
来我往，为大家上演了一场精彩的比赛。    
欧洲独霸：    
又一次引用黄金雄教授在杭州2008 时说的话，ACM 总决赛的实力分布由原先    
的美洲独霸逐渐转向了现在的亚欧争霸。但是，我根据这些年的比赛结果发现，从    
2006 年开始，团体比赛和个人比赛，特别是个人比赛，欧洲选手一直保持着绝对    
的霸主地位，亚欧争霸的说法实在有些牵强。    
从2005 年开始，几乎所有三大赛事的冠军都是欧洲选手。成绩最好的要数俄    
罗斯，俄罗斯选手以Petr，andrewzta 等为代表。俄罗斯选手训练刻苦，编程能力    
极强。欧洲的另一霸主就是波兰，波兰选手具有很强的灵气，以tomek，marek 以    
及Eryx 为代表，程序设计在他们手中体现出了艺术气息。    
前几天我也看到关于取消NOIP 保送资格的文章，我没有发表评论，因为我没    
有看懂，为什么文章里把保送和保送资格混为一谈，让人觉得哭笑不得。这里我对    
保送资格还是想法不多，不过想比较一下我们中国选手与欧洲选手思维能力上的差    
别。    
在高中时，吴文虎老师就常说中国选手的IOI 成绩很优秀，的确这几年从IOI    
成绩上看，中国是绝对的霸主。可是ACM-ICPC 的成绩，俄罗斯和波兰等强队的成    
绩却远在中国之上。于是我们总结的原因是：欧洲选手的编程能力强。我非常同意    
这个说法。    
但是“欧洲选手的编程能力强”的说法并不说明他们的算法能力弱，相反他    
们的思维素质非常高，他们具有非常正统和严密的思维方式，体现出经过长期训练    
的思维能力和素质。    
我 觉得中国的“高手”和许多通过高考进入名校的“神人”，在大学之前接    
受的教育都是以选拔为目的的，并没有太多针对思维方式和能力的训练。记得小学    
要考重点 初中，初中则拼搏重点高中，高中期间则梦想名牌大学，而在学习期间，    
我们并没有太多机会训练自己的思维能力，至少在我的中学阶段是这样的。虽然很    
多高中已 经竭尽全力通过类似研究性学习的方法锻炼我们的创新能力，但是仍然    
不能改变选拔性考试“高考”这一事实。而在与西方选手交流的过程中，我觉得许    
多思维能力 优秀的学生很早就有机会接受系统的思维能力训练，寻找最适合自己    
的思考方法。我一次有机会看Eryx 留下的草稿，发现他考虑问题有非常严密的过    
程，从理解题目到想出算法每步都有根有据，并不是随机碰撞的结果。    
现在欧洲选手与我们相比，思维能力上也并没有劣势。我有幸在投身OI 竞赛    
之后，得到许多机会与其它选手交流，学习他们的思考方法，努力锻炼自己这方面    
的能力，试图与众多欧洲选手对抗。    
Mountain View 登顶：    
GCJ2008 在Google 总部Mountain View 举行，赛前我想用Ying 的一句话来表    
达我对比赛夺冠的渴望，“我虽然获过很多奖，但是缺少一个世界冠军”。早在    
GCJ2006，我就拥有机会获得冠军，但是在失去那次机会之后一等就是整整的两年。    
比赛开始不久，bmerry 的强势起跑使我逐渐失去了夺冠的念头，只得一心做    
好眼前的题目。bmerry 在不到2 个小时的时间里就做出了除了C- Hard 以外的所有    
题目，他只要在最后一小时做出C- Hard，就基本上可以锁定冠军了。    
不过我克服开场的不顺利之后，磕磕碰碰地在2 小时过5 分顺利通过了E-Easy    
和E-Hard。摆在我面前的只有B-Hard 和C-Hard。B 题和C 题相比之下，B 题我已    
经有了一定的想法，可是C 则是完全没有想法。于是我决定先做B，GCJ2008 的B    
题简直是我的克星，我先后用了100 分钟时间做这题都没有结果，可以说当时状    
态很差。大概到了2:40 的时候，我查看board 时突然发现了一件令人窒息的事情，    
bmerry 已经尝试了C-Hard 并且超时了。由于C-Hard 的分数略高于B-Hard，我最后    
想要超过bmerry 就必须做出C-Hard。果断放弃B-Hard 之后，并没有想出C-Hard    
的方法，写了一个搜索程序但是心里很没底，Hard 数据的提交时限是8 分钟，于    
是到了2 小时52 分的时候，我毅然打开C-Hard，用搜索的程序运行C-Hard，在焦    
急的等待之后，程序在运行了1 分多钟以后神奇地运行结束了。我依靠搜索方法    
通过了C-Hard，一举超过了bmerry。1 分钟后zhuzeyuan 也做出了同样的题目，超    
过了bmerry，由于罚时排在第2 名。我和zhuzeyuan 还有bmerry 比赛过程中都有    
不小的失误，我很有幸把失误的损失降到了最低点，终于获得了第一个世界比赛的    
冠军。    
这次GCJ 的题目有非常详细的解答，可以在比赛的链接里找到。GCJ2008 的比    
赛结果从一定意义上，打破了欧洲选手多年的独霸场面。加上原籍南非的bmerry，    
前五名中都没有出现欧洲选手的名字，这也是在多年现场比赛中没有出现过的。    
这一年，我很高兴看到OI 选手中出现了ahyangyi，yuhch123，Loner 等各方面    
都极为出色的新人，真心希望你们能够早日适应大学的学习生活，再创佳绩。    
众多新人的加盟，大大提高了清华ACM 团队的实力。在2008 年，清华大学    
ACM 队创纪录地获得了4 个分区赛的冠军。明天最后一篇回忆中将分享ACM-2008    
中发生的趣事。    
    
    
版权归ACRush所有。感谢楼教主。    